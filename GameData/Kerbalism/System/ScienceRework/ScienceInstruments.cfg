//this will patch all the squad parts to use the new mechanic + any other parts that use the stock experiments modules with the same experiments.

@PART[*]:HAS[@MODULE[ModuleScienceExperiment]:HAS[#experimentID[atmosphereAnalysis]]]:NEEDS[FeatureScience]:FOR[Kerbalism]
{
	!MODULE[ModuleScienceExperiment] {}
	MODULE
		{
			name = Experiment
			experiment_id = atmosphereAnalysis
		}
}

@PART[*]:HAS[@MODULE[ModuleScienceExperiment]:HAS[#experimentID[mysteryGoo]]]:NEEDS[FeatureScience]:FOR[Kerbalism]
{
	!MODULE[ModuleScienceExperiment] {}
	MODULE
		{
			name = Experiment
			experiment_id = mysteryGoo
		}
}

@PART[*]:HAS[@MODULE[ModuleScienceExperiment]:HAS[#experimentID[mobileMaterialsLab]]]:NEEDS[FeatureScience]:FOR[Kerbalism]
{
	!MODULE[ModuleScienceExperiment] {}
	MODULE
		{
			name = Experiment
			experiment_id = mobileMaterialsLab
		}
}

@PART[*]:HAS[@MODULE[ModuleScienceExperiment]:HAS[#experimentID[seismicScan]]]:NEEDS[FeatureScience]:FOR[Kerbalism]
{
	!MODULE[ModuleScienceExperiment] {}
	MODULE
		{
			name = Experiment
			experiment_id = seismicScan
		}
}

@PART[*]:HAS[@MODULE[ModuleScienceExperiment]:HAS[#experimentID[barometerScan]]]:NEEDS[FeatureScience]:FOR[Kerbalism]
{
	!MODULE[ModuleScienceExperiment] {}
	MODULE
		{
			name = Experiment
			experiment_id = barometerScan
		}
}

@PART[*]:HAS[@MODULE[ModuleScienceExperiment]:HAS[#experimentID[gravityScan]]]:NEEDS[FeatureScience]:FOR[Kerbalism]
{
	!MODULE[ModuleScienceExperiment] {}
	MODULE
		{
			name = Experiment
			experiment_id = gravityScan
		}
}

@PART[*]:HAS[@MODULE[ModuleScienceExperiment]:HAS[#experimentID[temperatureScan]]]:NEEDS[FeatureScience]:FOR[Kerbalism]
{
	!MODULE[ModuleScienceExperiment] {}
	MODULE
		{
			name = Experiment
			experiment_id = temperatureScan
		}	
}

@PART[*]:HAS[@MODULE[ModuleScienceExperiment]:HAS[#experimentID[infraredTelescope]]]:NEEDS[FeatureScience]:FOR[Kerbalism]
{
	!MODULE[ModuleScienceExperiment] {}
	MODULE
		{
			name = Experiment
			experiment_id = infraredTelescope
		}	
}

@PART[*]:HAS[@MODULE[ModuleScienceExperiment]:HAS[#experimentID[geigerCounter]]]:NEEDS[FeatureScience]:FOR[Kerbalism]
{
	!MODULE[ModuleScienceExperiment] {}
	MODULE
		{
			name = Experiment
			experiment_id = geigerCounter
		}
}
//==================================================================================================================================================
//animations for stock parts
@PART[GooExperiment]:NEEDS[FeatureScience]:AFTER[Kerbalism]
{
	@MODULE[Experiment]:HAS[#experiment_id[mysteryGoo]]
		{
			%anim_deploy = Deploy
		}
	!MODULE[ModuleAnimateGeneric]	{}
}
@PART[science_module]:NEEDS[FeatureScience]:AFTER[Kerbalism]
{
	@MODULE[Experiment]:HAS[#experiment_id[mobileMaterialsLab]]
		{
			%anim_deploy = Deploy
		}
	!MODULE[ModuleAnimateGeneric]	{}
}
//==================================================================================================================================================
@PART[*]:HAS[@MODULE[ModuleScienceExperiment]:HAS[#experimentID[crewReport]]]:NEEDS[FeatureScience]:FOR[zzzKerbalism]		//has to run much later due to all other mods and their shenenigans. may even need to be :FINAL
{
	!MODULE[ModuleScienceExperiment] {}
	MODULE
		{
			name = Experiment
			experiment_id = crewReport
		}	
}