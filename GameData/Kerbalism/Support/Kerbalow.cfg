// Kerbalow KA-330 Inflatable Space Hotel
// and
// Kerbal Expandable Activity Module

// ============================================================================
// Habitat (Inflatable)
// ============================================================================
@PART[KA330exterior]:NEEDS[Kerbalow,FeatureHabitat]:AFTER[Kerbalism]
{
  @MODULE[Habitat]
  {
    %inflate = Deploy
    %state = disabled
    %animBackwards = True
    -volume = delete // 70 // need a number here: The values are deduced from bounding box if not specified - this can only be called when 3D model has not been rotated
    -surface = delete // 40 // need a number here: The values are deduced from bounding box if not specified - this can only be called when 3D model has not been rotated
  }

  !MODULE[ModuleAnimateGeneric]:HAS[#animationName[Deploy]] {} // Functionality is replaced by ModuleHabitat
}

@PART[KEAM]:NEEDS[Kerbalow,FeatureHabitat]:AFTER[Kerbalism]
{
  @MODULE[Habitat]
  {
    %inflate = Inflate
    %state = disabled
    %animBackwards = True
    -volume = delete // 12 // need a number here: The values are deduced from bounding box if not specified - this can only be called when 3D model has not been rotated
    -surface = delete // 10 // need a number here: The values are deduced from bounding box if not specified - this can only be called when 3D model has not been rotated
  }

  !MODULE[ModuleAnimateGeneric]:HAS[#animationName[Inflate]] {} // Functionality is replaced by ModuleHabitat
}

// ============================================================================
// Comfort providers
// ============================================================================
@PART[KA330exterior]:NEEDS[Kerbalow,FeatureComfort]:AFTER[Kerbalism]
{
  MODULE:NEEDS[FeatureComfort]
  {
    name = Comfort
    desc = A treadmill designed to permit exercise in zero-g is included. The crew will love it.
    bonus = exercise
  }

  MODULE:NEEDS[FeatureReliability]
  {
    name = Reliability
    type = Comfort
    title = Treadmill
    repair = Engineer
    mtbf = 36288000 // 4y
    extra_cost = 0.25
    extra_mass = 0.05
  }
}
