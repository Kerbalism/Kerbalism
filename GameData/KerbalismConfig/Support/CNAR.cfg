// ============================================================================
// Capella Thermometer
// ============================================================================

@PART[CapellaExperiment1]:NEEDS[CNAR]:FOR[KerbalismDefault]
{
	!MODULE[ModuleDataTransmitter] {}

	MODULE
	{
		name = ModuleDataTransmitter
		antennaType = DIRECT
		packetInterval = 0.6
		packetSize = 2
		packetResourceCost = 1.5
		requiredResource = ElectricCharge
		antennaPower = 6250
		antennaCombinable = False
	} 
}

@PART[CapellaExperiment1]:NEEDS[CNAR,FeatureScience]:AFTER[zzzKerbalismDefault]
{
	!MODULE[Sensor],* {}

	MODULE
	{
		name = Sensor
		type = temperature
	}

	!MODULE[ModuleAnimateGeneric] {}
	!MODULE[*ModuleScience*],* {}
	!MODULE[Experiment],* {}

	MODULE
	{
		name = Experiment
		experiment_id = temperatureScan
		%ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/STOCK/temperatureScan/ECCost$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/STOCK/temperatureScan/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/STOCK/temperatureScan/duration$
		%requires = #$@KERBALISM_EXPERIMENT_VALUES/STOCK/temperatureScan/requirements$
		%resources = #$@KERBALISM_EXPERIMENT_VALUES/STOCK/temperatureScan/ResourceRates$ 	}

	!MODULE[Configure],*:HAS[#title[Unmanned?Experiments]] {}
	!MODULE[ModuleKerbNetAccess] {}

	MODULE
	{
		name = Configure
		title = Unmanned Experiments
		SETUP
		{
			name = 2HOT Thermometer
			desc = Installs the 2HOT Thermometer on the Science Instrument Unit, allowing you to perform temperature scans.
			%tech = start
			// %tech = #$@KERBALISM_GROUP_SETTINGS/UNMANNED_EXPERIMENTS/Thermometer/UnlockTech$
			%mass = #$@KERBALISM_GROUP_SETTINGS/UNMANNED_EXPERIMENTS/Thermometer/SetupMass$
			%cost = #$@KERBALISM_GROUP_SETTINGS/UNMANNED_EXPERIMENTS/Thermometer/SetupCost$ 
			MODULE
			{
				type = Experiment
				id_field = experiment_id
				id_value = temperatureScan
			}
		}
	}
	MODULE
	{
		name = Reliability
		type = ModuleScienceExperiment
		title = ScienceInstrument
		repair = Engineer
		mtbf = 72576000
		extra_cost = 0.05
		extra_mass = 0.01
	}
}


// ============================================================================
// Capella Barometer
// ============================================================================

@PART[CapellaExperiment2]:NEEDS[CNAR]:FOR[KerbalismDefault]
{
	!MODULE[ModuleDataTransmitter] {}

	MODULE
	{
		name = ModuleDataTransmitter
		antennaType = DIRECT
		packetInterval = 0.6
		packetSize = 2
		packetResourceCost = 1.5
		requiredResource = ElectricCharge
		antennaPower = 6250
		antennaCombinable = False
	} 
}

@PART[CapellaExperiment2]:NEEDS[CNAR,FeatureScience]:AFTER[zzzKerbalismDefault]
{
	!MODULE[Sensor],* {}

	MODULE
	{
		name = Sensor
		type = pressure
	}

	!MODULE[ModuleAnimateGeneric] {}
	!MODULE[*ModuleScience*],* {}
	!MODULE[Experiment],* {}

	MODULE
	{
		name = Experiment
		experiment_id = barometerScan
		%ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/STOCK/barometerScan/ECCost$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/STOCK/barometerScan/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/STOCK/barometerScan/duration$
		%requires = #$@KERBALISM_EXPERIMENT_VALUES/STOCK/barometerScan/requirements$
		%resources = #$@KERBALISM_EXPERIMENT_VALUES/STOCK/barometerScan/ResourceRates$
		%allow_shrouded = False 
		}

	!MODULE[Configure],*:HAS[#title[Unmanned?Experiments]] {}
	!MODULE[ModuleKerbNetAccess] {}

	MODULE
	{
		name = Configure
		title = Unmanned Experiments
		SETUP
		{
			name = PresMat Barometer
			desc = Installs the PresMat Barometer.
			%tech = start
			// %tech = #$@KERBALISM_GROUP_SETTINGS/ATMO_EXPERIMENTS/PresMatBarometer/UnlockTech$
			%mass = #$@KERBALISM_GROUP_SETTINGS/ATMO_EXPERIMENTS/PresMatBarometer/SetupMass$
			%cost = #$@KERBALISM_GROUP_SETTINGS/ATMO_EXPERIMENTS/PresMatBarometer/SetupCost$ 
			MODULE
			{
				type = Experiment
				id_field = experiment_id
				id_value = barometerScan
			}
		}
	}
	MODULE
	{
		name = Reliability
		type = ModuleScienceExperiment
		title = ScienceInstrument
		repair = Engineer
		mtbf = 72576000
		extra_cost = 0.05
		extra_mass = 0.01
	}
}

// ============================================================================
// Capella Goo Experiment
// ============================================================================

@PART[CapellaExperiment3]:NEEDS[CNAR]:FOR[KerbalismDefault]
{
	!MODULE[ModuleDataTransmitter] {}

	MODULE
	{
		name = ModuleDataTransmitter
		antennaType = DIRECT
		packetInterval = 0.6
		packetSize = 2
		packetResourceCost = 1.5
		requiredResource = ElectricCharge
		antennaPower = 6250
		antennaCombinable = False
	} 
}

@PART[CapellaExperiment3]:NEEDS[CNAR,FeatureScience]:AFTER[zzzKerbalismDefault]
{
	!MODULE[Sensor],* {}
	!MODULE[ModuleAnimateGeneric] {}
	!MODULE[*ModuleScience*],* {}
	!MODULE[Experiment],* {}

	MODULE
	{
		name = Experiment
		experiment_id = mysteryGoo
		%sample_amount = #$@KERBALISM_EXPERIMENT_VALUES/STOCK/mysteryGoo/samples$
		%requires = #$@KERBALISM_EXPERIMENT_VALUES/STOCK/mysteryGoo/requirements$
		%ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/STOCK/mysteryGoo/ECCost$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/STOCK/mysteryGoo/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/STOCK/mysteryGoo/duration$
		%resources = #$@KERBALISM_EXPERIMENT_VALUES/STOCK/mysteryGoo/ResourceRates$ 
		}

	!MODULE[Configure],*:HAS[#title[Unmanned?Experiments]] {}
	!MODULE[ModuleKerbNetAccess] {}

	MODULE
	{
		name = Configure
		title = Unmanned Experiments
		SETUP
		{
			name = Mystery Goo Observation
			desc = Install a Mystery Goo Containment Unit in the Laboratory, allowing on-board scientists to study the behaviour of the Goo in different environments.
			%tech = start
			// %tech = #$@KERBALISM_GROUP_SETTINGS/LAB_EXPERIMENTS/mysteryGoo/UnlockTech$
			%mass = #$@KERBALISM_GROUP_SETTINGS/LAB_EXPERIMENTS/mysteryGoo/SetupMass$
			%cost = #$@KERBALISM_GROUP_SETTINGS/LAB_EXPERIMENTS/mysteryGoo/SetupCost$ 
			MODULE
			{
				type = Experiment
				id_field = experiment_id
				id_value = mysteryGoo
			}
		}
	}
	MODULE
	{
		name = Reliability
		type = ModuleScienceExperiment
		title = ScienceInstrument
		repair = Engineer
		mtbf = 72576000
		extra_cost = 0.05
		extra_mass = 0.01
	}
}
