// ============================================================================
// BDB HDD configs
// ============================================================================
@KERBALISM_HDD_SIZES:NEEDS[Bluedog_DB,FeatureScience]
{
	BDB
	{
	
		bdbtier1
		{
			data = 4.75
			samples = 0
		}
		bdbtier2
		{
			data = 8.75
			samples = 0
		}
		bdbtier3
		{
			data = 16.75
			samples = 0
		}
		bdbtier4
		{
			data = 64.75
			samples = 0
		}
		bdbtier5
		{
			data = 132.75
			samples = 0
		}
		
		bdbtier6
		{
			data = 264.75
			samples = 0
		}
		bdbgemini
		{
			data = 16.75
			samples = 2
		}
		bdbmi
		{
			data = 16.75
			samples = 2
		}
		bdbapollo
		{
			data = 32.75
			samples = 4
		}
		bdbapollo1
		{
			data = 132.75
			samples = 8
		}
		bdblem
		{
			data = 16.75
			samples = 2
		}
		bluedog_Gemini_Lab
		{
			data = 48.75
			samples = 12
		}
		bluedog_MiniLab_Lab
		{
			data = 26.75
			samples = 6
		}
		bluedog_Skylab_OWS
		{
			data = 1264.75
			samples = 24
		}
		bdbtier7
		{
			data = 428.75
			samples = 0
		}		
		bdbcamerareturn
		{
			data = 0
			samples = 2
		}
		PRIVATE_DRIVES
		{
			bluedog_MiniGoo
			{
				data = 0
				samples = 1
				SampleReservoirUpgrade = 1				
				UpgradeTech = basicScience
				UpgradeEntryCost = 1600
			}
			
			bluedog_GATV_MaterialsBay
			{
				data = 0
				samples = 4							
				SampleReservoirUpgrade = 2				
				UpgradeTech = precisionEngineering
				UpgradeEntryCost = 6800
			}
		}
	}
}

@PART[bluedog_MiniLab_Lab,bluedog_MOL_1p5mStationSegment,bluedog_MOL_Camera]:HAS[!MODULE[HardDrive]]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	MODULE
	{
		name = HardDrive
		title = Laboratory Storage
		dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bluedog_MiniLab_Lab/data$
		sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bluedog_MiniLab_Lab/samples$
	}
}

@PART[bluedog_Skylab_Workshop,bluedog_Skylab_WetWorkshop]:HAS[!MODULE[HardDrive]]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	MODULE
	{
		name = HardDrive
		title = Laboratory Storage
		dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bluedog_Skylab_OWS/data$
		sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bluedog_Skylab_OWS/samples$
	}
}

@PART[bluedog_MOL_Lab_New,bluedog_spacelab_europeanModule]:HAS[!MODULE[HardDrive]]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	MODULE
	{
		name = HardDrive
		title = Laboratory Storage
		dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bluedog_Gemini_Lab/data$
		sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bluedog_Gemini_Lab/samples$
	}
}

@PART[bluedog_Gemini_Capsule,bluedog_Gemini_LanderCan]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbgemini/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbgemini/samples$
	}
}

@PART[bluedog_Apollo_CrewPod,X20Cockpit,X20Cockpit2]:NEEDS[FeatureScience]:FOR[zKerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbapollo/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbapollo/samples$
	}
}

@PART[bluedog_Apollo_Block3_Capsule]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbapollo1/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbapollo1/samples$
	}
}

@PART[bluedog_LM_Ascent_Cockpit]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdblem/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdblem/samples$
	}
}


@PART[bluedog_Corona_Pod]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbcamerareturn/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbcamerareturn/samples$
	}
}

@PART[bluedog_Hexagon_Mk8_Capsule]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbcamerareturn/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbcamerareturn/samples$
		@sampleCapacity *= 2
	}
}


@PART[bluedog_Telstar_Core]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier1/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier1/samples$
	}
}

@PART[bluedog_Courier_Core]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier1/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier1/samples$
	}
}

@PART[bluedog_Relay_Core]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier1/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier1/samples$
	}
}

@PART[bluedog_AIMP_Core]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier2/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier2/samples$
	}
}

@PART[bluedog_Alouette_Core]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier2/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier2/samples$
	}
}

@PART[bluedog_Biosat_Adapter]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier2/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier2/samples$
	}
}

@PART[bluedog_Helios_Core]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier5/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier5/samples$
	}
}

@PART[bluedog_IDCSP_Probe]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier1/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier1/samples$
	}
}

@PART[bluedog_Pioneer_1]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier1/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier1/samples$
	}
}

@PART[bluedog_Pioneer_4]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier2/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier2/samples$
	}
}

@PART[bluedog_Pioneer5_Core]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier3/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier3/samples$
	}
}

@PART[bluedog_Explorer_7]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier2/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier2/samples$
	}
}

@PART[bluedog_Explorer_8]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier2/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier2/samples$
	}
}

@PART[bluedog_Explorer_11]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier2/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier2/samples$
	}
}

@PART[bluedog_Explorer_S45]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier2/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier2/samples$
	}
}

@PART[bluedog_Explorer_S46]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier2/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier2/samples$
	}
}

@PART[bluedog_LunarOrbiter_Core]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier3/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier3/samples$
	}
}

@PART[bluedog_Nimbus_EarlyControlCore]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier3/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier3/samples$
	}
}

@PART[bluedog_Nimbus_LateControlCore]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier4/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier4/samples$
	}
}


@PART[bluedog_OAO_ProbeCore]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier5/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier5/samples$
	}
}

@PART[bluedog_Mariner10_probeCore]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier5/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier5/samples$
	}
}


@PART[bluedog_OGO_Bus]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier3/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier3/samples$
	}
}

@PART[bluedog_OSO_Core]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier3/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier3/samples$
	}
}

@PART[bluedog_Pioneer6_Bus]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier3/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier3/samples$
	}
}

@PART[bluedog_PioneerAble_Core]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier3/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier3/samples$
	}
}

@PART[bluedog_MarinerB_Bus]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier4/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier4/samples$
	}
}

@PART[bluedog_Ranger_Bus]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier3/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier3/samples$
	}
}

@PART[bluedog_Ranger_BareCore]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier3/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier3/samples$
	}
}

@PART[bluedog_TIROS]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier2/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier2/samples$
	}
}

@PART[bluedog_TRYP_Core]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier5/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier5/samples$
	}
}

@PART[bluedog_Transit4A]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier3/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier3/samples$
	}
}

@PART[bluedog_Transit5_Bus]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier3/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier3/samples$
	}
}

@PART[bluedog_ANNA]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier2/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier2/samples$
	}
}

@PART[bluedog_Injun1]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier1/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier1/samples$
	}
}

@PART[bluedog_LOFTI]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier1/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier1/samples$
	}
}

@PART[bluedog_POPPY1]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier2/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier2/samples$
	}
}

@PART[bluedog_POPPY2]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier3/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier3/samples$
	}
}

@PART[bluedog_SOLRAD]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier2/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier2/samples$
	}
}

@PART[bluedog_SOLRAD8]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier3/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier3/samples$
	}
}

@PART[bluedog_Transit2A]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[HardDrive]
	{
		@dataCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier2/data$
		@sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/bdbtier2/samples$
	}
}

// ============================================================================
// Custom habitat surface/volume
// by schrema
// reviewed by HaullyGames at Fev 13th 2018
// ============================================================================

@PART[bluedog_Apollo_Block3_Capsule]:NEEDS[Bluedog_DB,FeatureHabitat]:AFTER[KerbalismDefault]
{
	  @MODULE[Habitat]
	  {
		%volume = 9.42
		%surface = 14.97
	  }
}

@PART[bluedog_Apollo_Block3_MissionModule]:NEEDS[Bluedog_DB,FeatureHabitat]:AFTER[KerbalismDefault]
{
	@MODULE[Habitat]
	{
		%volume = 12.2
		%surface = 26.4
	}
}

// ============================================================================
// Laboratory
// by Maxzhao1999
// reviewed by HaullyGames at Fev 13th 2018
// Updated to BDB 1.8 by Bellabong
// ============================================================================

@PART[bluedog_Apollo_Block3_Capsule,bluedog_Spacelab_ERM,bluedog_Skylab_OWS_Wet]:NEEDS[Bluedog_DB,FeatureScience]:FIRST
{
	MODULE
	{
		name = Configure
		title = Crew Experiments
	}
}

@PART[bluedog_MiniLab_Lab,bluedog_MOL_Lab_New]:HAS[@MODULE[ModuleScienceLab]]:NEEDS[Bluedog_DB,FeatureScience]:FIRST
{
	MODULE
	{
		name = Configure
		title = Laboratory Experiments
	}
}

@PART[bluedog_Skylab_Workshop,bluedog_Skylab_WetWorkshop,bluedog_spacelab_forwardAdapter]:HAS[@MODULE[ModuleScienceLab]]:NEEDS[Bluedog_DB,FeatureScience]:FIRST
{
	MODULE
	{
		name = Configure
		title = Laboratory Experiments
	}
}

@PART[bluedog_Skylab_Workshop,bluedog_Skylab_WetWorkshop,bluedog_spacelab_forwardAdapter]:HAS[@MODULE[Configure]:HAS[#title[Laboratory?Experiments]]]:AFTER[zzzzKerbalismDefault]
{
	@MODULE[Configure]:HAS[#title[Laboratory?Experiments]]
	{
		%slots = 2

		@UPGRADES
		{
			@UPGRADE[Lab-Upgrade1]
			{
				%slots = 4
			}
		}
	}
}
@PART[bluedog_MiniLab_Lab]:NEEDS[Bluedog_DB,FeatureScience]:AFTER[KerbalismDefault]
{
	!MODULE[Laboratory] {}
	MODULE
	{
		name = Laboratory
		researcher = Scientist
		analysis_rate = 0.003 // 3 kbps (since it's a smaller and earlier along the tech tree)
		ec_rate = 0.5
	}

	!MODULE[ModuleScienceLab] {}
	!MODULE[ModuleScienceConverter] {}
}

@PART[bluedog_MOL_Lab_New]:NEEDS[Bluedog_DB,FeatureScience]:AFTER[KerbalismDefault]
{
	!MODULE[Laboratory] {}
	MODULE
	{
		name = Laboratory
		researcher = Scientist
		analysis_rate = 0.006 // 6 kbps (since it's a smaller and earlier along the tech tree)
		ec_rate = 0.7
	}

	!MODULE[ModuleScienceLab] {}
	!MODULE[ModuleScienceConverter] {}
}

@PART[bluedog_MOL_1p5mStationSegment]:NEEDS[Bluedog_DB,FeatureScience]:AFTER[KerbalismDefault]
{
	!MODULE[Laboratory] {}
	MODULE
	{
		name = Laboratory
		researcher = Scientist
		analysis_rate = 0.004 // 6 kbps (since it's a smaller and earlier along the tech tree)
		ec_rate = 0.7
	}

	!MODULE[ModuleScienceLab] {}
	!MODULE[ModuleScienceConverter] {}
}

@PART[bluedog_Skylab_Workshop,bluedog_Skylab_WetWorkshop]:NEEDS[Bluedog_DB,FeatureScience]:AFTER[KerbalismDefault]
{
	!MODULE[Laboratory] {}
	MODULE
	{
		name = Laboratory
		researcher = Scientist
		analysis_rate = 0.024 // 24 kbps
		ec_rate = 3.6
	}

	!MODULE[ModuleScienceLab] {}
	!MODULE[ModuleScienceConverter] {}
}

@PART[bluedog_spacelab_forwardAdapter]:NEEDS[Bluedog_DB,FeatureScience]:AFTER[KerbalismDefault]
{
	!MODULE[Laboratory] {}
	MODULE
	{
		name = Laboratory
		researcher = Scientist
		analysis_rate = 0.012 // 12 kbps
		ec_rate = 1.4
	}

	!MODULE[ModuleScienceLab] {}
	!MODULE[ModuleScienceConverter] {}
}

// ============================================================================
// Sickbay
// added by Gordon Dry
// ============================================================================

@PART[bluedog_MOL_Lab_New]:NEEDS[Bluedog_DB,FeatureHabitat,FeatureRadiation]:AFTER[zzzKerbalismDefault]
{
	MODULE
	{
		name = Sickbay
		resource = _SickbayRDU
		title = RDU
		desc = The Radiation Detoxication Unit (RDU) uses EC and Oxygen to reduce the effects of radiation poisoning.
		slots = 0

		UPGRADES
		{
			UPGRADE
			{
				name__ = Upgrade-HitchhikerRDU
				techRequired__ = advScienceTech
				slots = 1
			}
		}
	}
}

@PART[bluedog_Gemini_TwoRoomStationModule]:NEEDS[Bluedog_DB,FeatureHabitat,FeatureRadiation]:AFTER[zzzKerbalismDefault]
{
	MODULE
	{
		name = Sickbay
		resource = _SickbayRDU
		title = RDU
		desc = The Radiation Detoxication Unit (RDU) uses EC and Oxygen to reduce the effects of radiation poisoning.
		slots = 0

		UPGRADES
		{
			UPGRADE
			{
				name__ = Upgrade-HitchhikerRDU
				techRequired__ = advScienceTech
				slots = 1
			}
		}
	}
}

@PART[bluedog_Skylab_Workshop,bluedog_Skylab_WetWorkshop]:NEEDS[Bluedog_DB,FeatureHabitat,FeatureRadiation]:AFTER[zzzKerbalismDefault]
{
	@description ^= :$: Can be upgraded to contain a Treadmill with Vibration Isolation Stabilization System (TVIS). 
	@tags ^= :$: exercise: 

	MODULE:NEEDS[FeatureComfort]
	{
		name = Comfort
		desc = A treadmill designed to permit exercise in zero-g is included. The crew will love it.
		bonus = exercise
	}

	MODULE:NEEDS[FeatureReliability]
	{
		name = Reliability
		type = Comfort
		title = Treadmill
		repair = Engineer
		mtbf = 36288000
		extra_cost = 0.25
		extra_mass = 0.05
	}
}

// ============================================================================
// Fuel Cells
// added by Gordon Dry
// ============================================================================

@PART[bluedog_Spacelab_ERM]:NEEDS[HabTech2,ProfileDefault]:FOR[KerbalismDefault]
{
	@tags ^= :$: fuel cell fuelcell water recycler waste processor anthraquinone soe: 

	MODULE
	{
		name = ProcessController
		resource = _MonopropFuelCell
		title = Fuel cell
		capacity = #$/CrewCapacity$
		@capacity *= 5
	    valve_i = 2
		running = false
	}

	MODULE
	{
		name = ProcessController
		resource = _FuelCell
		title = Fuel Cell
		capacity = #$/CrewCapacity$
	    valve_i = 1
		running = false
	}

	MODULE
	{
		name = Configure
		title = Fuel Cell
		slots = 1

		UPGRADES
		{
			UPGRADE
			{
				name__ = Upgrade-Slots
				techRequired__ = advElectrics
				slots = 2
			}
		}

		SETUP
		{
			name = Monoprop Oxygen Fuel Cell
			desc = Burns <b>MonoPropellant</b> and <b>Oxygen</b> gas, producing <b>Water</b> and <b>Nitrogen</b> gas as by-products.
			tech = survivability
			mass = 0.1
			cost = 1000

			MODULE
			{
				type = ProcessController
				id_field = resource
				id_value = _MonopropFuelCell
			}
		}

		SETUP
		{
			name = Hydrogen Oxygen Fuel Cell
			desc = Burns <b>Hydrogen</b> gas and <b>Oxygen</b> gas, producing <b>Water</b> as a by-product.
			tech = advElectrics
			mass = 0.05
			cost = 2500
			valve_i = 1

			MODULE
			{
				type = ProcessController
				id_field = resource
				id_value = _FuelCell
			}
		}
	}

	MODULE:NEEDS[FeatureReliability]
	{
		name = Reliability
		type = ProcessController
		title = Fuel Cell
		redundancy = Power Generation
		repair = Engineer
		mtbf = 72576000
		extra_cost = 0.1
		extra_mass = 0.05
	}

	-MODULE[ProcessController]:HAS[#resource[?Scrubber]] { }
	-MODULE[ProcessController]:HAS[#resource[?PressureControl]] { }

	-MODULE[ProcessController]:HAS[#resource[?WaterRecycler]] { }
	MODULE
	{
		name = ProcessController
		resource = _WaterRecycler
		title = Water recycler
		capacity = #$/CrewCapacity$
		running = false
	}

	-MODULE[ProcessController]:HAS[#resource[?WasteProcessor]] { }
	MODULE
	{
		name = ProcessController
		resource = _WasteProcessor
		title = Waste processor
		capacity = #$/CrewCapacity$
		running = false
	}

	MODULE
	{
		name = ProcessController
		resource = _Anthraquinone
		title = Anthraquinone process
		capacity = #$/CrewCapacity$
		running = false
	}

	MODULE
	{
		name = ProcessController
		resource = _SOE
		title = SOE
		capacity = #$/CrewCapacity$
		running = false
	}

	MODULE
	{
		name = Configure
		title = Habitat recyclers
		slots = 1

		UPGRADES
		{
			UPGRADE
			{
				name__ = Upgrade-Slots
				techRequired__ = recycling
				slots = 2
			}
			UPGRADE
			{
				name__ = Upgrade-Slots_advScienceTech
				techRequired__ = advScienceTech
				slots = 3
			}
		}

		SETUP
		{
			name = Water Recycler
			desc = Filter impurities out of <b>WasteWater</b>.
			tech = recycling
			mass = 0.05
			cost = 500


			MODULE
			{
				type = ProcessController
				id_field = resource
				id_value = _WaterRecycler
			}

			RESOURCE
			{
				name = WasteWater
				amount = 0
				maxAmount = #$/CrewCapacity$
				@maxAmount *= 5
			}
		}

		SETUP
		{
			name = Waste Processor
			desc = Extract <b>Ammonia</b> out of decomposing organic <b>Waste</b>.
			tech = shortTermHabitation
			mass = 0.05
			cost = 500

			MODULE
			{
				type = ProcessController
				id_field = resource
				id_value = _WasteProcessor
			}

			RESOURCE
			{
				name = Waste
				amount = 0
				maxAmount = #$/CrewCapacity$
				@maxAmount *= 5
			}
		}

		SETUP
		{
			name = Anthraquinone Process
			desc = Synthesize <b>Oxidizer</b> using a redox of <b>Oxygen</b> and <b>Hydrogen</b>.
			tech = advScienceTech
			mass = 0.1
			cost = 3500

			MODULE
			{
				type = ProcessController
				id_field = resource
				id_value = _Anthraquinone
			}
		}

		SETUP
		{
			name = Solid Oxide Electrolysis
			desc = Transform <b>CarbonDioxide</b> into <b>Oxygen</b> and <b>Shielding</b>.
			tech = experimentalScience
			mass = 0.15
			cost = 4500

			MODULE
			{
				type = ProcessController
				id_field = resource
				id_value = _SOE
			}
		}
	}
	
	// MODULE:NEEDS[FeatureReliability]
	// {
		// name = Reliability
		// type = ProcessController
		// title = Habitat recyclers
		// repair = Engineer
		// mtbf = 72576000
		// extra_cost = 0.1
		// extra_mass = 0.1
	// }
}

@PART[bluedog_Spacelab_ERM]:NEEDS[HabTech2,FeatureHabitat,FeatureComfort]:AFTER[zzzKerbalismDefault]
{
	@tags ^= :$: sickbay shower napkin: 

	MODULE
	{
		name = Sickbay
		resource = _SickbayShower
		title = Shower
		desc = This is not a shower - but close your eyes and believe it. A dry napkin is placed into a special package. The package is filled with warm water from the onboard water dispenser. When the dry napkin is soaked, the astronaut breaks the package open and 'showers' with the home-made wet wipe.
		mass = 0.001
		cost = 50
		slots = 0
		// techRequired = recycling
		UPGRADES
		{
			UPGRADE
			{
				name__ = Upgrade-ColumbusShower
				techRequired__ = recycling
				slots = 1
			}
		}
	}

	MODULE
	{
		name = Reliability
		type = Sickbay
		title = Shower
		redundancy = Life Support
		repair = true // anyone 
		mtbf = 10368000
		extra_cost = 0.005
		extra_mass = 0.001
	} 
}
// ============================================================================
// Standalone Antennas
// by ValynEritai
// reviewed by HaullyGames at Fev 3th 2018
// Removed old Kerbalism Signal cfg's [PiezPiedPy] 20th June 2018
// reviewed by HaullyGames at Oct 07th 2018
// ============================================================================

// region List All Antennas
// region Extendable
// region Antennas
//    bluedog_dipole
//    bluedog_LOantenna
//    bluedog_LOdish
//    bluedog_mariner4Antenna
//    bluedog_rangerDish
//    bluedog_simpleAntenna
//    bluedog_solarAntenna
// end
// region Agenas
//    bluedog_agenaAntenna
// end
// region Apollo
//    bluedog_Apollo_Block2_HGA
//    bluedog_Apollo_Block3_HGA
//    bluedog_Apollo_Block5_HGA
//    bluedog_LEM_Ascent_Antenna1
//    bluedog_LEM_Ascent_Cockpit
// end
// region Explorer
//    bluedog_Diamant_Asterix
//    bluedog_Explorer1
// end
// region Gemini
//    bluedog_MOL_rackDish
// end
// region Mercury
//    bluedog_mercuryScience
// end
// region ProbeExpansion
//    bluedog_Pioneer6_BottomAntenna
// end
// region Saturn
//    bluedog_Saturn_VFB_Dish
// end
// region SkyLab
//    bluedog_Skylab_DisconeAntenna
// end
// end
// region Fixed
// region Antennas
//    bluedog_domeAntenna
//    bluedog_mariner2Antenna
//    bluedog_mariner4Dish
//    bluedog_scimitar
//    bluedog_telstar
// end
// region Apollo
//    bluedog_Apollo_Subsatellite_Core
//    bluedog_LEM_Ascent_Antenna2
// end
// region Explorer
//    bluedog_Pioneer1
//    bluedog_Pioneer4
//    bluedog_Vanguard
// end
// region Gemini
//    bluedog_malhenaSolar
// end
// region ProbeExpansion
//    bluedog_Pioneer6_TopAntenna
// end
// end
// end
@PART[bluedog_dipole,bluedog_LOantenna,bluedog_LOdish,bluedog_mariner4Antenna,bluedog_rangerDish,bluedog_simpleAntenna,bluedog_solarAntenna,bluedog_agenaAntenna,bluedog_Apollo_Block2_HGA,bluedog_Apollo_Block3_HGA,bluedog_Apollo_Block5_HGA,bluedog_LEM_Ascent_Antenna1,bluedog_LEM_Ascent_Cockpit,bluedog_Diamant_Asterix,bluedog_Explorer1,bluedog_MOL_rackDish,bluedog_mercuryScience,bluedog_Pioneer6_BottomAntenna,bluedog_Saturn_VFB_Dish,bluedog_Skylab_DisconeAntenna,bluedog_domeAntenna,bluedog_mariner2Antenna,bluedog_mariner4Dish,bluedog_scimitar,bluedog_telstar,bluedog_Apollo_Subsatellite_Core,bluedog_LEM_Ascent_Antenna2,bluedog_Pioneer1,bluedog_Pioneer4,bluedog_Vanguard,bluedog_malhenaSolar,bluedog_Pioneer6_TopAntenna]:NEEDS[Bluedog_DB,FeatureReliability]:AFTER[KerbalismDefault]
{
  @MODULE[Reliability] { @mtbf = 36288000 }
}

// ============================================================================
// Geiger counter
// ============================================================================

// More parts now have Geigercounters, time for a catch-all patch

@PART[*]:HAS[@MODULE:HAS[#experimentID[bd_GeigerCounter]]]:NEEDS[FeatureScience]
{
	!MODULE:HAS[#experimentID[bd_GeigerCounter]]	{}
	{
		MODULE
		{
			name = Sensor
			type = radiation
			pin = needle
		}
	}
	MODULE
	{
		name = Experiment
		experiment_id = geigerCounter
	}
	
}

// ============================================================================
// Give early IDCSP relay more EC to survive more than 5 minutes in the dark
// but not too much, and do not increase the solar panel output
// by Gordon Dry
// ============================================================================
@PART[bluedog_IDCSP_Probe]:NEEDS[Bluedog_DB,FeatureScience]:FOR[zzzKerbalismDefault]
{
	@RESOURCE[ElectricCharge]
	{
		@amount = 12 // old value 5, enough for about 8 minutes, so now about 20 minutes
		@maxAmount = 12
	}
}
@PART[bluedog_Pioneer_1,bluedog_Pioneer_4,bluedog_Juno1_Explorer1,bluedog_WRESAT]:NEEDS[Bluedog_DB,FeatureScience]:FOR[zzzKerbalismDefault]
{
	@RESOURCE[ElectricCharge]
	{
		@amount *= 16
		@maxAmount *= 16
	}
}
@PART[bluedog*,Bluedog*]:HAS[@MODULE[ModuleCommand]:HAS[#minimumCrew[0]]]:NEEDS[Bluedog_DB,FeatureScience]:FOR[zzzKerbalismDefault]
{
	@RESOURCE[ElectricCharge]
	{
		@amount *= 5
		@maxAmount *= 5
	}
}
// =========================================================
// BD ScienceDefs
// =========================================================

// =========================================================
// id = bd_atm
// title = Solar Telescope Mount Observations
// =========================================================
@KERBALISM_EXPERIMENT_VALUES:NEEDS[Bluedog_DB,FeatureScience]
{
	%BDB
	{
		bd_atm
		{
			size = 7250
			value = 12
			duration = 453600 // 21 days
			ec_rate = 0.5
		}
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[bd_atm]]:NEEDS[Bluedog_DB,FeatureScience]:FOR[zzzKerbalismDefault]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_atm/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_atm/size$
	@dataScale /= #$baseValue$
}

@PART[*]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_atm]]]:NEEDS[Bluedog_DB,FeatureScience]
{
    MODULE
    {
		name = Experiment
		experiment_id = bd_atm
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_atm/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_atm/duration$
		@data_rate *= #$../MODULE:HAS[#experimentID[bd_atm],~name[Experiment]]/xmitDataScalar$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_atm/ec_rate$
		@ec_rate *= #$../MODULE:HAS[#experimentID[bd_atm],~name[Experiment]]/xmitDataScalar$
		allow_shrouded = False
    }

    !MODULE:HAS[#experimentID[bd_atm],~name[Experiment]] {}
}

// =========================================================
// id = bd_bioexp
// title = Biological experiments
// =========================================================
@KERBALISM_EXPERIMENT_VALUES:NEEDS[Bluedog_DB,FeatureScience]
{
	%BDB
	{
		bd_bioexp
		{
			size = 3858
			value = 15
			duration = 22820
			ec_rate = 0.36
		}
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[bd_bioexp]]:NEEDS[Bluedog_DB,FeatureScience]:FOR[zzzKerbalismDefault]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_bioexp/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_bioexp/size$
	@dataScale /= #$baseValue$

}

@PART[*]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_bioexp]]]:NEEDS[Bluedog_DB,FeatureScience]
{
    MODULE
    {
		name = Experiment
		experiment_id = bd_bioexp
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_bioexp/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_bioexp/duration$
		@data_rate *= #$../MODULE:HAS[#experimentID[bd_bioexp],~name[Experiment]]/xmitDataScalar$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_bioexp/ec_rate$
		@ec_rate *= #$../MODULE:HAS[#experimentID[bd_bioexp],~name[Experiment]]/xmitDataScalar$
		@anim_deploy:HAS[@MODULE[*Module*]:HAS[#animationName]] = #$../MODULE:HAS[#animationName],~name[Experiment]]/animationName$
    }

    !MODULE:HAS[#experimentID[bd_bioexp],~name[Experiment]] {}
}

// =========================================================
// id = bd_camera
// title = Photographic Image Data
// =========================================================
@KERBALISM_EXPERIMENT_VALUES:NEEDS[Bluedog_DB,FeatureScience]
{
	%BDB
	{
		bd_camera
		{
			size = 4512
			value = 7
			duration = 5400 // 1.5 hours
			ec_rate = 0.5
		}
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[bd_camera]]:NEEDS[Bluedog_DB,FeatureScience]:FOR[zzzKerbalismDefault]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_camera/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_camera/size$
	@dataScale /= #$baseValue$
	IncludeExperiment = bd_Photometer //If you can take a picture of a planet you can see how bright it is. 
}

@PART[bluedog_cameraLowTech]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_camera]]]:NEEDS[Bluedog_DB,FeatureScience]
{
    MODULE
    {
		name = Experiment
		experiment_id = bd_camera
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_camera/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_camera/duration$
		@data_rate *= 0.25
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_camera/ec_rate$
		@ec_rate = *= 0.25
    }

    !MODULE:HAS[#experimentID[bd_camera],~name[Experiment]] {}
}
@PART[ca_filmCamera]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_camera]]]:NEEDS[Bluedog_DB,CoatlAerospace,FeatureScience]
{
    MODULE
    {
		name = Experiment
		experiment_id = bd_camera
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_camera/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_camera/duration$
		@data_rate *= 0.25
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_camera/ec_rate$
		@ec_rate = *= 0.25
    }

    !MODULE:HAS[#experimentID[bd_camera],~name[Experiment]] {}
}

@PART[bluedog_Pioneer_4,bluedog_Gemini_LunarRecon_Camera,bluedog_Pioneer4,bluedog_mariner10_camera,bluedog_mariner10_cameraStandalone,bluedog_Clementine_Sensors]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_camera]]]:NEEDS[Bluedog_DB,FeatureScience]
{
    MODULE
    {
		name = Experiment
		experiment_id = bd_camera
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_camera/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_camera/duration$
		@data_rate *= #$../MODULE:HAS[#experimentID[bd_camera],~name[Experiment]]/xmitDataScalar$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_camera/ec_rate$
		@ec_rate *= #$../MODULE:HAS[#experimentID[bd_camera],~name[Experiment]]/xmitDataScalar$
    }

    !MODULE:HAS[#experimentID[bd_camera],~name[Experiment]] {}
}

@PART[*]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_camera]]]:NEEDS[Bluedog_DB,FeatureScience]
{
    MODULE
    {
		name = Experiment
		experiment_id = bd_camera
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_camera/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_camera/duration$
		@data_rate *= #$../MODULE:HAS[#experimentID[bd_camera],~name[Experiment]]/xmitDataScalar$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_camera/ec_rate$
		@ec_rate *= #$../MODULE:HAS[#experimentID[bd_camera],~name[Experiment]]/xmitDataScalar$
		anim_deploy = #$../MODULE:HAS[#experimentID,~name[Experiment]]/animationName$
    }

    !MODULE:HAS[#experimentID[bd_camera],~name[Experiment]] {}
}

// =========================================================
// id = bd_gammaRay
// title = Gamma Ray Spectrometry
// =========================================================

@KERBALISM_EXPERIMENT_VALUES:NEEDS[Bluedog_DB,FeatureScience]
{
	%BDB
	{
		bd_gammaRay
		{
			size = 8000
			value = 14
			duration = 453600 // 21 days
			ec_rate = 1.2
		}
	}
}
@EXPERIMENT_DEFINITION:HAS[#id[bd_gammaRay]]:NEEDS[Bluedog_DB,FeatureScience]:FOR[zzzKerbalismDefault]
{
        @baseValue = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_gammaRay/value$
        @dataScale = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_gammaRay/size$
        @dataScale /= #$baseValue$
		
		KERBALISM_EXPERIMENT
		{
			VirtualBiome = NoBiome
			VirtualBiome = InnerBelt
			VirtualBiome = OuterBelt
			VirtualBiome = Magnetosphere
			VirtualBiome = Storm
			VirtualBiome = Interstellar
			Situation = InSpaceLow@VirtualBiomes
			Situation = InSpaceHigh@VirtualBiomes
		}
}

@PART[bluedog_Explorer_11]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_gammaRay]]]:NEEDS[Bluedog_DB,FeatureScience]:FOR[KerbalismDefault]
{
	MODULE
	{
		name = Experiment
		experiment_id = bd_gammaRay
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_gammaRay/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_gammaRay/duration$
		@data_rate *= #$../MODULE:HAS[#experimentID[bd_gammaRay],~name[Experiment]]/xmitDataScalar$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_gammaRay/ec_rate$
		@ec_rate *= #$../MODULE:HAS[#experimentID[bd_gammaRay],~name[Experiment]]/xmitDataScalar$
		allow_shrouded = False
	}

	!MODULE[*ModuleScience*]:HAS[#experimentID[bd_gammaRay],~name[Experiment]] {}
}

@PART[*]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_gammaRay]]]:NEEDS[Bluedog_DB,FeatureScience]:FOR[KerbalismDefault]
{
	MODULE
	{
		name = Experiment
		experiment_id = bd_gammaRay
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_gammaRay/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_gammaRay/duration$
		@data_rate *= #$../MODULE:HAS[#experimentID[bd_gammaRay],~name[Experiment]]/xmitDataScalar$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_gammaRay/ec_rate$
		@ec_rate *= #$../MODULE:HAS[#experimentID[bd_gammaRay],~name[Experiment]]/xmitDataScalar$
		anim_deploy = #$../MODULE:HAS[#experimentID,~name[Experiment]]/animationName$
		allow_shrouded = False
	}

	!MODULE:HAS[#experimentID[bd_gammaRay],~name[Experiment]] {}
}

// =========================================================
// id = bd_hydrometer
// title = Moisture Sensor Data
// =========================================================
@KERBALISM_EXPERIMENT_VALUES:NEEDS[Bluedog_DB,FeatureScience]
{
	%BDB
	{
		bd_hydrometer
		{
			size = 7512
			value = 9
			duration = 50400 // 14 hours
			ec_rate = 0.16
		}
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[bd_hydrometer]]:NEEDS[Bluedog_DB,FeatureScience]:FOR[zzzKerbalismDefault]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_hydrometer/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_hydrometer/size$
	@dataScale /= #$baseValue$
}

@PART[*]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_hydrometer]]]:NEEDS[Bluedog_DB,FeatureScience]
{
    MODULE
    {
      name = Experiment
      experiment_id = bd_hydrometer
      data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_hydrometer/size$
      @data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_hydrometer/duration$
      ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_hydrometer/ec_rate$
	  allow_shrouded = False
    }

    !MODULE:HAS[#experimentID[bd_hydrometer],~name[Experiment]] {}
}

// =========================================================
// id = bd_ionElec
// title = Ionization and Electrostatic Analysis
// =========================================================

@KERBALISM_EXPERIMENT_VALUES:NEEDS[Bluedog_DB,FeatureScience]
{
	%BDB
	{
		bd_ionElec
		{
			size = 2048
			value = 5
			duration = 14400 // 4 hours
			ec_rate = 0.2
		}
	}
}
@EXPERIMENT_DEFINITION:HAS[#id[bd_ionElec]]:NEEDS[Bluedog_DB,FeatureScience]:FOR[zzzKerbalismDefault]
{
        @baseValue = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_ionElec/value$
        @dataScale = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_ionElec/size$
        @dataScale /= #$baseValue$
		
		KERBALISM_EXPERIMENT
		{
			VirtualBiome = NoBiome
			VirtualBiome = InnerBelt
			VirtualBiome = OuterBelt
			VirtualBiome = Magnetosphere
			VirtualBiome = Storm
			VirtualBiome = Interstellar
			VirtualBiome = Reentry 
			Situation = FlyingHigh@VirtualBiomes
			Situation = Space@VirtualBiomes
		}
}

@PART[bluedog_Ranger_Block1_ElectroAnalyzer_Experiment]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_ionElec]]]:NEEDS[Bluedog_DB,FeatureScience]:FOR[KerbalismDefault]
{
	MODULE
	{
		name = Experiment
		experiment_id = bd_ionElec
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_ionElec/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_ionElec/duration$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_ionElec/ec_rate$
		@ec_rate *= #$../MODULE:HAS[#experimentID[bd_ionElec],~name[Experiment]]/xmitDataScalar$
		allow_shrouded = False
		anim_deploy = deploy
		restriction = bluedog_Ranger_Block1_ElectroAnalyzer_Device1,bluedog_Ranger_Block1_ElectroAnalyzer_Device2

	}

	!MODULE:HAS[#experimentID[bd_ionElec],~name[Experiment]] {}
}

@PART[bluedog_Explorer_8,bluedog_LOFTI,bluedog_Injun1]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_ionElec]]]:NEEDS[Bluedog_DB,FeatureScience]:FOR[KerbalismDefault]
{
	MODULE
	{
		name = Experiment
		experiment_id = bd_ionElec
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_ionElec/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_ionElec/duration$
		@data_rate *= #$../MODULE:HAS[#experimentID[bd_ionElec],~name[Experiment]]/xmitDataScalar$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_ionElec/ec_rate$
		@ec_rate *= #$../MODULE:HAS[#experimentID[bd_ionElec],~name[Experiment]]/xmitDataScalar$
		allow_shrouded = False
	}

	!MODULE:HAS[#experimentID[bd_ionElec],~name[Experiment]] {}
}

@PART[*]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_ionElec]]]:NEEDS[Bluedog_DB,FeatureScience]:FOR[KerbalismDefault]
{
	MODULE
	{
		name = Experiment
		experiment_id = bd_ionElec
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_ionElec/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_ionElec/duration$
		@data_rate *= #$../MODULE:HAS[#experimentID[bd_ionElec],~name[Experiment]]/xmitDataScalar$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_ionElec/ec_rate$
		@ec_rate *= #$../MODULE:HAS[#experimentID[bd_ionElec],~name[Experiment]]/xmitDataScalar$
		allow_shrouded = False
		anim_deploy = #$../MODULE:HAS[#experimentID,~name[Experiment]]/animationName$
	}

	!MODULE:HAS[#experimentID[bd_ionElec],~name[Experiment]] {}
}

// =========================================================
// id = bd_IRradiometer
// title = Infrared Radiation Data // Balanced against DMs Multispectral analyzer
// =========================================================
@KERBALISM_EXPERIMENT_VALUES:NEEDS[Bluedog_DB,FeatureScience]
{
	%BDB
	{
		bd_IRradiometer
		{
			size = 6512
			value = 6
			duration = 151200
			ec_rate = 0.2
		}
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[bd_IRradiometer]]:NEEDS[Bluedog_DB,FeatureScience]:FOR[zzzKerbalismDefault]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_IRradiometer/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_IRradiometer/size$
	@dataScale /= #$baseValue$
}

@PART[bd_IRradiometer,bluedog_Mariner2_Radiometer,bluedog_Clementine_Sensors]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_IRradiometer]]]:NEEDS[Bluedog_DB,FeatureScience]
{
    MODULE
    {
		name = Experiment
		experiment_id = bd_IRradiometer
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_IRradiometer/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_IRradiometer/duration$
		@data_rate *= #$../MODULE:HAS[#experimentID[bd_IRradiometer],~name[Experiment]]/xmitDataScalar$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_IRradiometer/ec_rate$
		@ec_rate *= #$../MODULE:HAS[#experimentID[bd_IRradiometer],~name[Experiment]]/xmitDataScalar$
		allow_shrouded = False
    }

    !MODULE:HAS[#experimentID[bd_IRradiometer],~name[Experiment]] {}
}

@PART[*]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_IRradiometer]]]:NEEDS[Bluedog_DB,FeatureScience]
{
    MODULE
    {
		name = Experiment
		experiment_id = bd_IRradiometer
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_IRradiometer/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_IRradiometer/duration$
		@data_rate *= #$../MODULE:HAS[#experimentID[bd_IRradiometer],~name[Experiment]]/xmitDataScalar$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_IRradiometer/ec_rate$
		@ec_rate *= #$../MODULE:HAS[#experimentID[bd_IRradiometer],~name[Experiment]]/xmitDataScalar$
		anim_deploy = #$../MODULE:HAS[#experimentID,~name[Experiment]]/animationName$
		allow_shrouded = False
    }

    !MODULE:HAS[#experimentID[bd_IRradiometer],~name[Experiment]] {}
}

// =========================================================
// id = bd_IRspec
// title = Infrared Spectrometry Data
// =========================================================
@KERBALISM_EXPERIMENT_VALUES:NEEDS[Bluedog_DB,FeatureScience]
{
	%BDB
	{
		bd_IRspec
		{
			size = 6512
			value = 6
			duration = 151200
			ec_rate = 0.2
		}
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[bd_IRspec]]:NEEDS[Bluedog_DB,FeatureScience]:FOR[zzzKerbalismDefault]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_IRspec/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_IRspec/size$
	@dataScale /= #$baseValue$
}

@PART[bluedog_IRspec,bluedog_Nimbus_Instrument_SIS,bluedog_Skylab_IRspec]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_IRspec]]]:NEEDS[Bluedog_DB,FeatureScience]
{
    MODULE
    {
		name = Experiment
		experiment_id = bd_IRspec
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_IRspec/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_IRspec/duration$
		@data_rate *= #$../MODULE:HAS[#experimentID[bd_IRspec],~name[Experiment]]/xmitDataScalar$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_IRspec/ec_rate$
		@ec_rate *= #$../MODULE:HAS[#experimentID[bd_IRspec],~name[Experiment]]/xmitDataScalar$
		allow_shrouded = False
    }
    !MODULE:HAS[#experimentID[bd_IRspec],~name[Experiment]] {}
}

@PART[mer_rsp,ca_KLIR]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_IRspec]]]:NEEDS[Bluedog_DB,CoatlAerospace,FeatureScience]
{
    MODULE
    {
		name = Experiment
		experiment_id = bd_IRspec
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_IRspec/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_IRspec/duration$
		@data_rate *= #$../MODULE:HAS[#experimentID[bd_IRspec],~name[Experiment]]/xmitDataScalar$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_IRspec/ec_rate$
		@ec_rate *= #$../MODULE:HAS[#experimentID[bd_IRspec],~name[Experiment]]/xmitDataScalar$
		allow_shrouded = False
    }

    !MODULE:HAS[#experimentID[bd_IRspec],~name[Experiment]] {}
}

@PART[*]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_IRspec]]]:NEEDS[Bluedog_DB,FeatureScience]
{
    MODULE
    {
		name = Experiment
		experiment_id = bd_IRspec
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_IRspec/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_IRspec/duration$
		@data_rate *= #$../MODULE:HAS[#experimentID[bd_IRspec],~name[Experiment]]/xmitDataScalar$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_IRspec/ec_rate$
		@ec_rate *= #$../MODULE:HAS[#experimentID[bd_IRspec],~name[Experiment]]/xmitDataScalar$
		anim_deploy = #$../MODULE:HAS[#animationName,~name[Experiment]]/animationName$
		allow_shrouded = False
    }

    !MODULE:HAS[#experimentID[bd_IRspec],~name[Experiment]] {}
}

// =========================================================
// id = bd_magScan
// title = Magnetometer Scan
// =========================================================
@KERBALISM_EXPERIMENT_VALUES:NEEDS[Bluedog_DB,FeatureScience]
{
	%BDB
	{
		bd_magScan
		{
			size = 550
			value = 5
			duration = 151200 // 7 days
			ec_rate = 0.2
		}
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[bd_magScan]]:NEEDS[Bluedog_DB,FeatureScience]:FOR[zzzKerbalismDefault]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_magScan/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_magScan/size$
	@dataScale /= #$baseValue$
	
	KERBALISM_EXPERIMENT
	{
		VirtualBiome = NoBiome
		VirtualBiome = InnerBelt
		VirtualBiome = OuterBelt
		VirtualBiome = Magnetosphere
		VirtualBiome = Storm
		VirtualBiome = Interstellar
		Situation = InSpaceLow@VirtualBiomes
		Situation = InSpaceHigh@VirtualBiomes
	}
}

@PART[bluedog_Ranger_Block1_Truss,bluedog_Mariner2_Truss,bluedog_mariner4Antenna,bluedog_Sputnik3_Core]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_magScan]]]:NEEDS[Bluedog_DB,FeatureScience,!DMagicOrbitalScience]
{
    MODULE
    {
		name = Experiment
		experiment_id = bd_magScan
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_magScan/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_magScan/duration$
		@data_rate *= #$../MODULE:HAS[#experimentID[bd_magScan],~name[Experiment]]/xmitDataScalar$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_magScan/ec_rate$
		@ec_rate *= #$../MODULE:HAS[#experimentID[bd_magScan],~name[Experiment]]/xmitDataScalar$
		allow_shrouded = False
	}

    !MODULE:HAS[#experimentID[bd_magScan],~name[Experiment]] {}
}


@PART[ca_argo-mk2-mast]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_magScan]]]:NEEDS[Bluedog_DB,CoatlAerospace,FeatureScience,!DMagicOrbitalScience]
{
    MODULE
    {
		name = Experiment
		experiment_id = bd_magScan
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_magScan/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_magScan/duration$
		@data_rate *= #$../MODULE:HAS[#experimentID[bd_magScan],~name[Experiment]]/xmitDataScalar$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_magScan/ec_rate$
		@ec_rate *= #$../MODULE:HAS[#experimentID[bd_magScan],~name[Experiment]]/xmitDataScalar$
		allow_shrouded = False
	}

    !MODULE:HAS[#experimentID[bd_magScan],~name[Experiment]] {}
}

@PART[*]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_magScan]]]:NEEDS[Bluedog_DB,FeatureScience]
{
    MODULE
    {
		name = Experiment
		experiment_id = bd_magScan
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_magScan/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_magScan/duration$
		@data_rate *= #$../MODULE:HAS[#experimentID[bd_magScan],~name[Experiment]]/xmitDataScalar$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_magScan/ec_rate$
		@ec_rate *= #$../MODULE:HAS[#experimentID[bd_magScan],~name[Experiment]]/xmitDataScalar$
		anim_deploy = #$../MODULE:HAS[#animationName,~name[Experiment]]/animationName$
		allow_shrouded = False
	}

    !MODULE:HAS[#experimentID[bd_magScan],~name[Experiment]] {}
}

@PART[bluedog_foldingMag]:NEEDS[Bluedog_DB,FeatureScience]
{
	%MODULE[Experiment]
	{
		@anim_deploy = foldingMag
	}
}

// switch to DMOS version if it is present
!EXPERIMENT_DEFINITION:HAS[#id[bd_magScan]]:NEEDS[Bluedog_DB,DMagicOrbitalScience,FeatureScience] {}
@PART[*]:HAS[@MODULE[Experiment]:HAS[#experiment_id[bd_magScan]]]:NEEDS[Bluedog_DB,DMagicOrbitalScience,FeatureScience]
{
	@MODULE[Experiment]:HAS[#experiment_id[bd_magScan]]
	{
		@experiment_id = magScan
	}
}

// =========================================================
// id = bd_mapping
// title =  Orbital Mapping Data
// =========================================================
@KERBALISM_EXPERIMENT_VALUES:NEEDS[Bluedog_DB,FeatureScience]
{
	%BDB
	{
		bd_mapping
		{
			size = 2048
			value = 10
			duration = 129600
			ec_rate = 0.25
		}
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[bd_mapping]]:NEEDS[Bluedog_DB,FeatureScience]:FOR[zzzKerbalismDefault]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_mapping/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_mapping/size$
	@dataScale /= #$baseValue$
	
	KERBALISM_EXPERIMENT
	{
		SampleMass = 0.0005
		VirtualBiome = NoBiome
		VirtualBiome = NorthernHemisphere
		VirtualBiome = SouthernHemisphere
		Situation = InSpaceLow@Biomes
		Situation = InSpaceHigh@VirtualBiomes
	}
}

@PART[*]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_mapping]]]:NEEDS[Bluedog_DB,FeatureScience]
{
    MODULE
    {
		name = Experiment
		experiment_id = bd_mapping
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_mapping/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_mapping/duration$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_mapping/ec_rate$
		@ec_rate *= #$../MODULE:HAS[#experimentID[bd_mapping],~name[Experiment]]/xmitDataScalar$
		allow_shrouded = False
		anim_deploy = #$../MODULE:HAS[#experimentID,~name[Experiment]]/animationName$
		sample_amount = 2
		requirements = SunAngleMax:55
	}

    !MODULE:HAS[#experimentID[bd_mapping],~name[Experiment]] {}
}

// =========================================================
// id = bd_massSpec
// title = Mass Spectrum Analysis
// =========================================================
@KERBALISM_EXPERIMENT_VALUES:NEEDS[Bluedog_DB,FeatureScience]
{
	%BDB
	{
		bd_massSpec
		{
			size = 5200
			value = 8
			duration = 7200
			ec_rate = 0.44
		}
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[bd_massSpec]]:NEEDS[Bluedog_DB,FeatureScience]:FOR[zzzKerbalismDefault]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_massSpec/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_massSpec/size$
	@dataScale /= #$baseValue$
}

@PART[Bluedog_MassSpec]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_massSpec]]]:NEEDS[Bluedog_DB,FeatureScience]
{
    MODULE
    {
		name = Experiment
		experiment_id = bd_massSpec
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_massSpec/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_massSpec/duration$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_massSpec/ec_rate$
	}

    !MODULE:HAS[#experimentID[bd_massSpec],~name[Experiment]] {}
}

@PART[*]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_massSpec]]]:NEEDS[Bluedog_DB,FeatureScience]
{
    MODULE
    {
		name = Experiment
		experiment_id = bd_massSpec
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_massSpec/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_massSpec/duration$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_massSpec/ec_rate$
		anim_deploy = #$../MODULE:HAS[#experimentID,~name[Experiment]]/animationName$
	}

    !MODULE:HAS[#experimentID[bd_massSpec],~name[Experiment]] {}
}

// =========================================================
// id = bd_microwaveSpec
// title = Microwave Spectrometry Data
// =========================================================
@KERBALISM_EXPERIMENT_VALUES:NEEDS[Bluedog_DB,FeatureScience]
{
	%BDB
	{
		bd_microwaveSpec
		{
			size = 512
			value = 3
			duration = 3600
			ec_rate = 0.2
		}
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[bd_microwaveSpec]]:NEEDS[Bluedog_DB,FeatureScience]:FOR[zzzKerbalismDefault]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_microwaveSpec/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_microwaveSpec/size$
	@dataScale /= #$baseValue$
}

@PART[*]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_microwaveSpec]]]:NEEDS[Bluedog_DB,FeatureScience]
{
    MODULE
    {
		name = Experiment
		experiment_id = bd_microwaveSpec
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_microwaveSpec/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_microwaveSpec/duration$
		@data_rate *= #$../MODULE:HAS[#experimentID[bd_microwaveSpec],~name[Experiment]]/xmitDataScalar$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_microwaveSpec/ec_rate$
		@ec_rate *= #$../MODULE:HAS[#experimentID[bd_microwaveSpec],~name[Experiment]]/xmitDataScalar$
		allow_shrouded = False
    }

    !MODULE:HAS[#experimentID[bd_microwaveSpec],~name[Experiment]] {}
}

@PART[bluedog_Nimbus_Instrument_ESMR,bluedog_Nimbus_Instrument_SMMR]:NEEDS[Bluedog_DB,FeatureScience]:AFTER[zzzKerbalismDefault]
{
	%MODULE[Experiment]
	{
		%anim_deploy = deploy
	}
}

// =========================================================
// id = bd_orbitalScope
// title = Orbital Images
// =========================================================
@KERBALISM_EXPERIMENT_VALUES:NEEDS[Bluedog_DB,FeatureScience]
{
	%BDB
	{
		bd_orbitalScope
		{
			size = 1100
			value = 8
			duration = 151200 // 7 days
			ec_rate = 0.2
		}
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[bd_orbitalScope]]:NEEDS[Bluedog_DB,FeatureScience]:FOR[zzzKerbalismDefault]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_orbitalScope/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_orbitalScope/size$
	@dataScale /= #$baseValue$
}

@PART[ca_telescope_a,mer_rsp]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_orbitalScope]]]:NEEDS[Bluedog_DB,CoatlAerospace,FeatureScience]
{
    MODULE
    {
		name = Experiment
		experiment_id = bd_orbitalScope
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_orbitalScope/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_orbitalScope/duration$
		@data_rate *= #$../MODULE:HAS[#experimentID[bd_orbitalScope],~name[Experiment]]/xmitDataScalar$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_orbitalScope/ec_rate$
		@ec_rate *= #$../MODULE:HAS[#experimentID[bd_orbitalScope],~name[Experiment]]/xmitDataScalar$
		allow_shrouded = False
		requirements = SunAngleMax:55
    }

    !MODULE:HAS[#experimentID[bd_orbitalScope],~name[Experiment]] {}
}

@PART[*]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_orbitalScope]]]:NEEDS[Bluedog_DB,FeatureScience]
{
    MODULE
    {
		name = Experiment
		experiment_id = bd_orbitalScope
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_orbitalScope/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_orbitalScope/duration$
		@data_rate *= #$../MODULE:HAS[#experimentID[bd_orbitalScope],~name[Experiment]]/xmitDataScalar$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_orbitalScope/ec_rate$
		@ec_rate *= #$../MODULE:HAS[#experimentID[bd_orbitalScope],~name[Experiment]]/xmitDataScalar$
		anim_deploy = #$../MODULE:HAS[#experimentActionName,~name[Experiment]]/experimentActionName$
		allow_shrouded = False
		requirements = SunAngleMax:55
    }

    !MODULE:HAS[#experimentID[bd_orbitalScope],~name[Experiment]] {}
}

// switch to DMOS version if it is present
!EXPERIMENT_DEFINITION:HAS[#id[bd_orbitalScope]]:NEEDS[Bluedog_DB,DMagicOrbitalScience,FeatureScience] {}
@PART[*]:HAS[@MODULE[Experiment]:HAS[#experiment_id[bd_orbitalScope]]]:NEEDS[Bluedog_DB,DMagicOrbitalScience,FeatureScience]:AFTER[zzzKerbalismDefault]
{
	@MODULE[Experiment]:HAS[#experiment_id[bd_orbitalScope]]
	{
		@experiment_id = scopeScan
	}
}

// =========================================================
// id = bd_oso
// title = Orbital Sun Observations
// =========================================================
@KERBALISM_EXPERIMENT_VALUES:NEEDS[Bluedog_DB,FeatureScience]
{
	%BDB
	{
		bd_oso
		{
			size = 8000
			value = 15
			duration = 453600 // 21 days
			ec_rate = 0.3
		}
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[bd_oso]]:NEEDS[Bluedog_DB,FeatureScience]:FOR[zzzKerbalismDefault]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_oso/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_oso/size$
	@dataScale /= #$baseValue$
}

@PART[bluedog_Skylab_ATM,bluedog_Transit5_SolarScience]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_oso]]]:NEEDS[Bluedog_DB,FeatureScience]
{
    MODULE
    {
		name = Experiment
		experiment_id = bd_oso
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_oso/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_oso/duration$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_oso/ec_rate$
		allow_shrouded = False
		restriction = Sunlight
    }

    !MODULE:HAS[#experimentID[bd_oso],~name[Experiment]] {}
}

@PART[*]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_oso]]]:NEEDS[Bluedog_DB,FeatureScience]
{
    MODULE
    {
		name = Experiment
		experiment_id = bd_oso
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_oso/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_oso/duration$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_oso/ec_rate$
		anim_deploy = #$../MODULE:HAS[#animationName,~name[Experiment]]/animationName$
		allow_shrouded = False
		restriction = Sunlight
    }

    !MODULE:HAS[#experimentID[bd_oso],~name[Experiment]] {}
}

// =========================================================
// id = bd_Photometer
// title = Photometry Data
// =========================================================
@KERBALISM_EXPERIMENT_VALUES:NEEDS[Bluedog_DB,FeatureScience]
{
	%BDB
	{
		bd_Photometer
		{
			size = 512
			value = 3
			duration = 600
			ec_rate = 0.5
		}
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[bd_Photometer]]:NEEDS[Bluedog_DB,FeatureScience]:FOR[zzzKerbalismDefault]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_Photometer/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_Photometer/size$
	@dataScale /= #$baseValue$
}

@PART[*]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_Photometer]]]:NEEDS[Bluedog_DB,FeatureScience]
{
	MODULE
	{
		name = Experiment
		experiment_id = bd_Photometer
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_Photometer/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_Photometer/duration$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_Photometer/ec_rate$
		@ec_rate *= #$../MODULE:HAS[#experimentID[bd_Photometer],~name[Experiment]]/xmitDataScalar$
		@anim_deploy:HAS[@MODULE[*ModuleScience*]:HAS[#animationName,#experimentID[bd_Photometer]]] = #$../MODULE:HAS[#experimentID[bd_Photometer],~name[Experiment]]/animationName$
		allow_shrouded = False
	}

	!MODULE:HAS[#experimentID[bd_Photometer],~name[Experiment]] {}
}

// =========================================================
// id = bd_radarAltimeter
// title = Radar Altimetry Data
// =========================================================
@KERBALISM_EXPERIMENT_VALUES:NEEDS[Bluedog_DB,FeatureScience]
{
	%BDB
	{
		bd_radarAltimeter
		{
			size = 2512
			value = 6
			duration = 129600
			ec_rate = 0.25
		}
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[bd_radarAltimeter]]:NEEDS[Bluedog_DB,FeatureScience]:FOR[zzzKerbalismDefault]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_radarAltimeter/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_radarAltimeter/size$
	@dataScale /= #$baseValue$
}
@PART[bluedog_Skylab_radarAltimeter,bluedog_Clementine_Sensors,bluedog_Apollo_SIMbay_radar]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_radarAltimeter]]]:NEEDS[Bluedog_DB,FeatureScience]
{
    MODULE
    {
		name = Experiment
		experiment_id = bd_radarAltimeter
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_radarAltimeter/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_radarAltimeter/duration$
		@data_rate *= #$../MODULE:HAS[#experimentID[bd_radarAltimeter],~name[Experiment]]/xmitDataScalar$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_radarAltimeter/ec_rate$
		@ec_rate *= #$../MODULE:HAS[#experimentID[bd_radarAltimeter],~name[Experiment]]/xmitDataScalar$
	}

    !MODULE:HAS[#experimentID[bd_radarAltimeter],~name[Experiment]] {}
}

@PART[*]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_radarAltimeter]]]:NEEDS[Bluedog_DB,FeatureScience]
{
    MODULE
    {
		name = Experiment
		experiment_id = bd_radarAltimeter
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_radarAltimeter/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_radarAltimeter/duration$
		@data_rate *= #$../MODULE:HAS[#experimentID[bd_radarAltimeter],~name[Experiment]]/xmitDataScalar$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_radarAltimeter/ec_rate$
		@ec_rate *= #$../MODULE:HAS[#experimentID[bd_radarAltimeter],~name[Experiment]]/xmitDataScalar$
		anim_deploy = #$../MODULE:HAS[#experimentID,~name[Experiment]]/animationName$
	}

    !MODULE:HAS[#experimentID[bd_radarAltimeter],~name[Experiment]] {}
}

// =========================================================
// id = bd_rpws
// title = Radio Plasma Wave Data
// =========================================================
@KERBALISM_EXPERIMENT_VALUES:NEEDS[Bluedog_DB,FeatureScience]
{
	%BDB
	{
		bd_rpws
		{
			size = 1800
			value = 9
			duration = 648000 // 30 days
			ec_rate = 0.3
		}
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[bd_rpws]]:NEEDS[Bluedog_DB,FeatureScience]:FOR[zzzKerbalismDefault]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_rpws/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_rpws/size$
	@dataScale /= #$baseValue$
	
	KERBALISM_EXPERIMENT
	{
		VirtualBiome = NoBiome
		VirtualBiome = InnerBelt
		VirtualBiome = OuterBelt
		VirtualBiome = Magnetosphere
		VirtualBiome = Storm
		VirtualBiome = Interstellar
		Situation = InSpaceLow@VirtualBiomes
		Situation = InSpaceHigh@VirtualBiomes
	}
}

@PART[*]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_rpws]]]:NEEDS[Bluedog_DB,FeatureScience]
{
    MODULE
    {
		name = Experiment
		experiment_id = bd_rpws
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_rpws/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_rpws/duration$
		@data_rate *= #$../MODULE:HAS[#experimentID[bd_rpws],~name[Experiment]]/xmitDataScalar$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_rpws/ec_rate$
		@ec_rate *= #$../MODULE:HAS[#experimentID[bd_rpws],~name[Experiment]]/xmitDataScalar$
		allow_shrouded = False
		anim_deploy = #$../MODULE:HAS[#experimentID,~name[Experiment]]/experimentActionName$
	}

    !MODULE:HAS[#experimentID[bd_rpws],~name[Experiment]] {}
}

// switch to DMOS version if it is present
!EXPERIMENT_DEFINITION:HAS[#id[bd_rpws]]:NEEDS[Bluedog_DB,DMagicOrbitalScience,FeatureScience] {}
@PART[*]:HAS[@MODULE[Experiment]:HAS[#experiment_id[bd_rpws]]]:NEEDS[Bluedog_DB,DMagicOrbitalScience,FeatureScience]
{
	@MODULE[Experiment]:HAS[#experiment_id[bd_rpws]]
	{
		@experiment_id = rpwsScan
	}
}

// =========================================================
// id = bd_solarWind
// title = Solar Wind Measurement
// =========================================================

@KERBALISM_EXPERIMENT_VALUES:NEEDS[Bluedog_DB,FeatureScience]
{
	%BDB
	{
		bd_solarWind
		{
			size = 2048
			value = 6
			duration = 3600 // 1 hour
			ec_rate = 0.5
		}
	}
}
@EXPERIMENT_DEFINITION:HAS[#id[bd_solarWind]]:NEEDS[Bluedog_DB,FeatureScience]:FOR[zzzKerbalismDefault]
{
        @baseValue = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_solarWind/value$
        @dataScale = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_solarWind/size$
        @dataScale /= #$baseValue$
		
		KERBALISM_EXPERIMENT
		{
			VirtualBiome = NoBiome
			VirtualBiome = InnerBelt
			VirtualBiome = OuterBelt
			VirtualBiome = Magnetosphere
			VirtualBiome = Storm
			VirtualBiome = Interstellar
			Situation = Space@VirtualBiomes
		}
}

@PART[bluedog_Skylab_ATM]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_solarWind]]]:NEEDS[Bluedog_DB,FeatureScience]:FOR[KerbalismDefault]
{
	MODULE
	{
		name = Experiment
		experiment_id = bd_solarWind
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_solarWind/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_solarWind/duration$
		@data_rate *= #$../MODULE:HAS[#experimentID[bd_solarWind],~name[Experiment]]/xmitDataScalar$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_solarWind/ec_rate$
		@ec_rate *= #$../MODULE:HAS[#experimentID[bd_solarWind],~name[Experiment]]/xmitDataScalar$
		restriction = Sunlight
	}

	!MODULE[*ModuleScience*]:HAS[#experimentID[bd_solarWind],~name[Experiment]] {}
}

@PART[ca_stereoBoom,ca_SWIS,bluedog_Transit5_SolarScience]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_solarWind]]]:NEEDS[CoatlAerospace,Bluedog_DB,FeatureScience]:FOR[KerbalismDefault]
{
	MODULE
	{
		name = Experiment
		experiment_id = bd_solarWind
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_solarWind/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_solarWind/duration$
		@data_rate *= #$../MODULE:HAS[#experimentID[bd_solarWind],~name[Experiment]]/xmitDataScalar$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_solarWind/ec_rate$
		@ec_rate *= #$../MODULE:HAS[#experimentID[bd_solarWind],~name[Experiment]]/xmitDataScalar$
		restriction = Sunlight
	}

	!MODULE[*ModuleScience*]:HAS[#experimentID[bd_solarWind],~name[Experiment]] {}
}

@PART[*]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_solarWind]]]:NEEDS[Bluedog_DB,FeatureScience]:FOR[KerbalismDefault]
{
	MODULE
	{
		name = Experiment
		experiment_id = bd_solarWind
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_solarWind/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_solarWind/duration$
		@data_rate *= #$../MODULE:HAS[#experimentID[bd_solarWind],~name[Experiment]]/xmitDataScalar$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_solarWind/ec_rate$
		@ec_rate *= #$../MODULE:HAS[#experimentID[bd_solarWind],~name[Experiment]]/xmitDataScalar$
		anim_deploy = #$../MODULE:HAS[#animationName,~name[Experiment]]/animationName$
		restriction = Sunlight
	}

	!MODULE[*ModuleScience*]:HAS[#experimentID[bd_solarWind],~name[Experiment]] {}
}

// =========================================================
// id = bd_surveillance
// title =  Orbital Surveillance Data
// =========================================================
@KERBALISM_EXPERIMENT_VALUES:NEEDS[Bluedog_DB,FeatureScience]
{
	%BDB
	{
		bd_surveillance
		{
			size = 4096
			value = 12
			duration = 129600 // 36 hours
			ec_rate = 0.25
		}
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[bd_surveillance]]:NEEDS[Bluedog_DB,FeatureScience]:FOR[zzzKerbalismDefault]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_surveillance/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_surveillance/size$
	@dataScale /= #$baseValue$
	KERBALISM_EXPERIMENT
	{
		SampleMass = 0.0005
		VirtualBiome = NoBiome
		VirtualBiome = NorthernHemisphere
		VirtualBiome = SouthernHemisphere
		Situation = InSpaceLow@Biomes
		Situation = InSpaceHigh@VirtualBiomes
	}
}

@PART[*]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_surveillance]]]:NEEDS[Bluedog_DB,FeatureScience]
{
    MODULE
    {
		name = Experiment
		experiment_id = bd_surveillance
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_surveillance/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_surveillance/duration$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_surveillance/ec_rate$
		@ec_rate *= #$../MODULE:HAS[#experimentID[bd_surveillance],~name[Experiment]]/xmitDataScalar$
		allow_shrouded = False
		anim_deploy = #$../MODULE:HAS[#experimentID,~name[Experiment]]/animationName$
	}

    !MODULE:HAS[#experimentID[bd_surveillance],~name[Experiment]] {}
}

// =========================================================
// id = bd_TVcamera
// title = TV camera imaging
// =========================================================
@KERBALISM_EXPERIMENT_VALUES:NEEDS[Bluedog_DB,FeatureScience]
{
	%BDB
	{
		bd_TVcamera
		{
			size = 29290768
			value = 365
			duration = 94608000 // 3 years of broadcasting
			ec_rate = 1.5
		}
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[bd_TVcamera]]:NEEDS[Bluedog_DB,FeatureScience]:FOR[zzzKerbalismDefault]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_TVcamera/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_TVcamera/size$
	@dataScale /= #$baseValue$
}

@PART[*]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_TVcamera]]]:NEEDS[Bluedog_DB,FeatureScience]
{
    MODULE
    {
		name = Experiment
		experiment_id = bd_TVcamera
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_TVcamera/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_TVcamera/duration$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_TVcamera/ec_rate$
		@ec_rate *= #$../MODULE:HAS[#experimentID[bd_TVcamera],~name[Experiment]]/xmitDataScalar$
		anim_deploy = #$../MODULE:HAS[#experimentID,~name[Experiment]]/animationName$
		allow_shrouded = false
    }

    !MODULE:HAS[#experimentID[bd_TVcamera],~name[Experiment]] {}
}

// =========================================================
// id = bd_UVscope
// title = High Resolution Ultraviolet Imaging
// =========================================================
@KERBALISM_EXPERIMENT_VALUES:NEEDS[Bluedog_DB,FeatureScience]
{
	%BDB
	{
		bd_UVscope
		{
			size = 289386462
			value = 400
			duration = 230083200 //Standard for Space Telescopes I guess
			ec_rate = 1.91
		}
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[bd_UVscope]]:NEEDS[Bluedog_DB,FeatureScience]:FOR[zzzKerbalismDefault]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_UVscope/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_UVscope/size$
	@dataScale /= #$baseValue$
}

@PART[ca_explorer]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_UVscope]]]:NEEDS[CoatlAerospace,Bluedog_DB,FeatureScience]
{
    MODULE
    {
		name = Experiment
		experiment_id = bd_UVscope
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_UVscope/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_UVscope/duration$
		@data_rate *= #$../MODULE:HAS[#experimentID[bd_UVscope],~name[Experiment]]/xmitDataScalar$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_UVscope/ec_rate$
		allow_shrouded = false
    }

    !MODULE:HAS[#experimentID[bd_UVscope],~name[Experiment]] {}
}

@PART[*]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_UVscope]]]:NEEDS[Bluedog_DB,FeatureScience]
{
    MODULE
    {
		name = Experiment
		experiment_id = bd_UVscope
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_UVscope/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_UVscope/duration$
		@data_rate *= #$../MODULE:HAS[#experimentID[bd_UVscope],~name[Experiment]]/xmitDataScalar$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_UVscope/ec_rate$
		anim_deploy = #$../MODULE:HAS[#experimentID,~name[Experiment]]/animationName$
		allow_shrouded = false
    }

    !MODULE:HAS[#experimentID[bd_UVscope],~name[Experiment]] {}
}

// =========================================================
// id = bd_UVspec
// title = Ultraviolet and Atmospheric Analysis
// =========================================================

@KERBALISM_EXPERIMENT_VALUES:NEEDS[Bluedog_DB,FeatureScience]
{
	%BDB
	{
		bd_UVspec
		{
			size = 6512
			value = 6
			duration = 151200
			ec_rate = 0.2
		}
	}
}
@EXPERIMENT_DEFINITION:HAS[#id[bd_UVspec]]:NEEDS[Bluedog_DB,FeatureScience]:FOR[zzzKerbalismDefault]
{
        @baseValue = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_UVspec/value$
        @dataScale = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_UVspec/size$
        @dataScale /= #$baseValue$
}

@PART[bluedog_Ranger_Block1_LymanAlphaTelescope,bluedog_mariner10_camera,bluedog_mariner10_cameraStandalone,bluedog_mariner10_UVspectrometer,mer_rsp,ca_explorer,ca_vor_camera,bluedog_Transit5_UVSpectrometer,bluedog_Apollo_SIMbay_UVspectrometer]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_UVspec]]]:NEEDS[Bluedog_DB,FeatureScience]
{
	MODULE
	{
		name = Experiment
		experiment_id = bd_UVspec
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_UVspec/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_UVspec/duration$
		@data_rate *= #$../MODULE:HAS[#experimentID[bd_UVspec],~name[Experiment]]/xmitDataScalar$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_UVspec/ec_rate$
		@ec_rate *= #$../MODULE:HAS[#experimentID[bd_UVspec],~name[Experiment]]/xmitDataScalar$
		allow_shrouded = false
	}

	!MODULE:HAS[#experimentID[bd_UVspec],~name[Experiment]] {}
}

@PART[*]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_UVspec]]]:NEEDS[Bluedog_DB,FeatureScience]
{
	MODULE
	{
		name = Experiment
		experiment_id = bd_UVspec
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_UVspec/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_UVspec/duration$
		@data_rate *= #$../MODULE:HAS[#experimentID[bd_UVspec],~name[Experiment]]/xmitDataScalar$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_UVspec/ec_rate$
		@ec_rate *= #$../MODULE:HAS[#experimentID[bd_UVspec],~name[Experiment]]/xmitDataScalar$
		anim_deploy = #$../MODULE:HAS[#animationName,~name[Experiment]]/animationName$
		allow_shrouded = false
	}

	!MODULE:HAS[#experimentID[bd_UVspec],~name[Experiment]] {}
}

// =========================================================
// id = bd_weather
// title = Orbital Weather Observation
// =========================================================
@KERBALISM_EXPERIMENT_VALUES:NEEDS[Bluedog_DB,FeatureScience]
{
	%BDB
	{
		bd_weather
		{
			size = 8830080
			value = 730 // .2 Sci a day
			duration = 315360000 // 10 years of weather reporting
			ec_rate = 0.5
		}
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[bd_weather]]:NEEDS[Bluedog_DB,FeatureScience]:FOR[zzzKerbalismDefault]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_weather/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_weather/size$
	@dataScale /= #$baseValue$
}

@PART[*]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_weather]]]:NEEDS[Bluedog_DB,FeatureScience]
{
	MODULE
	{
		name = Experiment
		experiment_id = bd_weather
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_weather/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_weather/duration$
		@data_rate *= #$../MODULE:HAS[#experimentID[bd_weather],~name[Experiment]]/xmitDataScalar$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_weather/ec_rate$
		@ec_rate *= #$../MODULE:HAS[#experimentID[bd_weather],~name[Experiment]]/xmitDataScalar$
	}

    !MODULE:HAS[#experimentID[bd_weather],~name[Experiment]] {}
}

// =========================================================
// id = bd_XrayImaging
// title = X-Ray Imaging
// =========================================================
@KERBALISM_EXPERIMENT_VALUES:NEEDS[Bluedog_DB,FeatureScience]
{
	%BDB
	{
		bd_XrayImaging
		{
			size = 289386462
			value = 400
			duration = 230083200
			ec_rate = 1.91
		}
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[bd_XrayImaging]]:NEEDS[Bluedog_DB,FeatureScience]:FOR[zzzKerbalismDefault]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_XrayImaging/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_XrayImaging/size$
	@dataScale /= #$baseValue$
}

@PART[bluedog_SOLRAD,bluedog_SOLRAD8]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_XrayImaging]]]:NEEDS[Bluedog_DB,FeatureScience]
{
	MODULE
	{
		name = Experiment
		experiment_id = bd_XrayImaging
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_XrayImaging/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_XrayImaging/duration$
		@data_rate *= #$../MODULE:HAS[#experimentID[bd_XrayImaging],~name[Experiment]]/xmitDataScalar$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_XrayImaging/ec_rate$
	}

    !MODULE:HAS[#experimentID[bd_XrayImaging],~name[Experiment]] {}
}

@PART[*]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_XrayImaging]]]:NEEDS[Bluedog_DB,FeatureScience]
{
	MODULE
	{
		name = Experiment
		experiment_id = bd_XrayImaging
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_XrayImaging/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_XrayImaging/duration$
		@data_rate *= #$../MODULE:HAS[#experimentID[bd_XrayImaging],~name[Experiment]]/xmitDataScalar$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/bd_XrayImaging/ec_rate$
		anim_deploy = #$../MODULE:HAS[#experimentID,~name[Experiment]]/animationName$
	}

    !MODULE:HAS[#experimentID[bd_XrayImaging],~name[Experiment]] {}
}

// =========================================================
// id = logmmImpacts
// title = Micrometeoroid Impact Data
// =========================================================
@KERBALISM_EXPERIMENT_VALUES:NEEDS[Bluedog_DB,FeatureScience]
{
	%BDB
	{
		logmmImpacts
		{
			size = 3200
			value = 6
			duration = 21600
			ec_rate = 0.02
		}
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[logmmImpacts]]:NEEDS[Bluedog_DB,FeatureScience]:FOR[zzzKerbalismDefault]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/BDB/logmmImpacts/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/BDB/logmmImpacts/size$
	@dataScale /= #$baseValue$
}

@PART[*]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[logmmImpacts]]]:NEEDS[Bluedog_DB,FeatureScience]
{
    MODULE
    {
      name = Experiment
      experiment_id = logmmImpacts
      data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/logmmImpacts/size$
      @data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/logmmImpacts/duration$
      ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/logmmImpacts/ec_rate$
      allow_shrouded = False
    }

    !MODULE:HAS[#experimentID[logmmImpacts],~name[Experiment]] {}
}

// =========================================================
// id = logIonTrap
// title = Charged Particle Data
// =========================================================
@KERBALISM_EXPERIMENT_VALUES:NEEDS[Bluedog_DB,FeatureScience]
{
	%BDB
	{
		logIonTrap
		{
			size = 4200
			value = 6
			duration = 129600 // 36 hours
			ec_rate = 0.08
		}
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[logIonTrap]]:NEEDS[Bluedog_DB,FeatureScience]:FOR[zzzKerbalismDefault]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/BDB/logIonTrap/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/BDB/logIonTrap/size$
	@dataScale /= #$baseValue$
}

@PART[*]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[logIonTrap]]]:NEEDS[Bluedog_DB,FeatureScience]
{
    MODULE
    {
		name = Experiment
		experiment_id = logIonTrap
		data_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/logIonTrap/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/BDB/logIonTrap/duration$
		ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/BDB/logIonTrap/ec_rate$
		@ec_rate *= #$../MODULE:HAS[#experimentID[logIonTrap],~name[Experiment]]/xmitDataScalar$
		allow_shrouded = False
	}

    !MODULE:HAS[#experimentID[logIonTrap],~name[Experiment]] {}
}


// =========================================================
// bluedog_MiniGoo
// =========================================================

@PART[bluedog_MiniGoo]:NEEDS[Bluedog_DB,FeatureScience]:FOR[zzzKerbalismDefault]
{
	MODULE
	{
		name = HardDrive
		experiment_id = mysteryGoo
		dataCapacity = 0
		sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/PRIVATE_DRIVES/bluedog_MiniGoo/samples$

		UPGRADES
		{
			UPGRADE
			{
				name__ = Goo-Storage-Upgrade
				techRequired__ = #$../../../@KERBALISM_HDD_SIZES/BDB/PRIVATE_DRIVES/bluedog_MiniGoo/UpgradeTech$
				sampleCapacity = #$../../#sampleCapacity$
				@sampleCapacity *= #$../../../@KERBALISM_HDD_SIZES/BDB/PRIVATE_DRIVES/bluedog_MiniGoo/SampleReservoirUpgrade$
			}
		}
	}
}

@PART[bluedog_MiniGoo]:NEEDS[Bluedog_DB,FeatureScience]:AFTER[zzzKerbalismDefault]
{
	@MODULE[Experiment]:HAS[#experiment_id[mysteryGoo]]
	{
		@anim_deploy = bluedog_MiniGoo_Emit
		@data_rate /= 4
		@UPGRADES
		{
			@UPGRADE[Goo-Storage-Upgrade]
			{
				%sample_amount = 2
			}
		}
	}
}

// =========================================================
// bluedog_GATV_MaterialsBay
// =========================================================

@PART[bluedog_GATV_MaterialsBay]:NEEDS[Bluedog_DB,FeatureScience]:FOR[zzzKerbalismDefault]
{
	MODULE
	{
		name = HardDrive
		experiment_id = mobileMaterialsLab
		dataCapacity = 0
		sampleCapacity = #$@KERBALISM_HDD_SIZES/BDB/PRIVATE_DRIVES/bluedog_GATV_MaterialsBay/samples$

		UPGRADES
		{
			UPGRADE
			{
				name__ = MatBay-Storage-Upgrade
				techRequired__ = #$../../../@KERBALISM_HDD_SIZES/BDB/PRIVATE_DRIVES/bluedog_GATV_MaterialsBay/UpgradeTech$
				sampleCapacity = #$../../#sampleCapacity$
				@sampleCapacity *= #$../../../@KERBALISM_HDD_SIZES/BDB/PRIVATE_DRIVES/bluedog_GATV_MaterialsBay/SampleReservoirUpgrade$
			}
		}
	}
}

@PART[bluedog_GATV_MaterialsBay]:NEEDS[Bluedog_DB,FeatureScience]:AFTER[zzzKerbalismDefault]
{
	%MODULE[Experiment]
	{
		@anim_deploy = deploy
		@restriction = bluedog_GATV_NuclearPackage,bluedog_GATV_MMDetector
	}
}

// =========================================================
// bluedog_GATV_NuclearPackage
// =========================================================
@PART[bluedog_GATV_NuclearPackage]:NEEDS[Bluedog_DB,FeatureScience]:AFTER[zzzKerbalismDefault]
{
	%MODULE[Experiment]
	{
		sample_collecting = true
		@anim_deploy = deploy
	}
}

// =========================================================
// bluedog_Apollo_Subsatellite_Core
// =========================================================
@PART[bluedog_Apollo_Subsatellite_Core]:NEEDS[Bluedog_DB,FeatureScience]:AFTER[zzzKerbalismDefault]
{
	%MODULE[Experiment]
	{
		anim_deploy = deploy
	}
}

// =========================================================
// SOO-SEP Solar Experiment Package
// =========================================================
@PART[bluedog_OSO_Experiment]:NEEDS[Bluedog_DB,FeatureScience]:AFTER[zzzKerbalismDefault]
{
	%MODULE[Experiment]
	{
		%anim_deploy = deploy
	}
}

// =========================================================
// HLR-OOG-OPEP Mass Spectrometer
// =========================================================
@PART[bluedog_OGO_OPEP]:NEEDS[Bluedog_DB,FeatureScience]:AFTER[zzzKerbalismDefault]
{
	%MODULE[Experiment]
	{
		%anim_deploy = deploy
	}
}

// =========================================================
// HLR-OOG-EP1 Ion Trap Boom
// =========================================================
@PART[bluedog_OGO_ExperimentBoom_3]:NEEDS[Bluedog_DB,FeatureScience]:AFTER[zzzKerbalismDefault]
{
	%MODULE[Experiment]
	{
		%anim_deploy = deploy
	}
}

// =========================================================
// HLR-OOG-EP2 Gravimetric Scanner
// =========================================================
@PART[bluedog_OGO_ExperimentBoom_2]:NEEDS[Bluedog_DB,FeatureScience]:AFTER[zzzKerbalismDefault]
{
	%MODULE[Experiment]
	{
		%anim_deploy = deploy
	}
}

// =========================================================
// HLR-OOG-EP4 Ionization and Electrostatic Analysis Boom
// =========================================================
@PART[bluedog_OGO_ExperimentBoom_1]:NEEDS[Bluedog_DB,FeatureScience]:AFTER[zzzKerbalismDefault]
{
	%MODULE[Experiment]
	{
		%anim_deploy = deploy
	}
}

// =========================================================
// HLR-OOG-EP6 Gamma Ray Spectrometer
// =========================================================
@PART[bluedog_OGO_LongBoom_Ball]:NEEDS[Bluedog_DB,FeatureScience]:AFTER[zzzKerbalismDefault]
{
	%MODULE[Experiment]
	{
		%anim_deploy = deploy
	}
}

// =========================================================
// Burke-2-GRSP Gamma Ray Spectrometer
// =========================================================
@PART[bluedog_Ranger_Block2_GammaRaySpectrometer]:NEEDS[Bluedog_DB,FeatureScience]:AFTER[zzzKerbalismDefault]
{
	%MODULE[Experiment]
	{
		%anim_deploy = deploy
	}
}

// =========================================================
// Ranger Block 2 Radar Altimeter
// =========================================================
@PART[bluedog_Ranger_Block2_GammaRaySpectrometer]:NEEDS[Bluedog_DB,FeatureScience]:AFTER[zzzKerbalismDefault]
{
	%MODULE[Experiment]
	{
		%anim_deploy = deploy
	}
}

// =========================================================
// Deployable Ion Sensors
// =========================================================
@PART[bluedog_Pioneer6_IonSensor,]:NEEDS[Bluedog_DB,FeatureScience]:AFTER[zzzKerbalismDefault]
{
	%MODULE[Experiment]
	{
		%anim_deploy = deploy
	}
}

// ============================================================================
// Patches to the pods
//
// ============================================================================

@PART[bluedog_Corona_Pod]:NEEDS[Bluedog_DB,FeatureScience]:AFTER[zzzKerbalismDefault]
{
    @MODULE[HardDrive]
    {
        @sampleCapacity = 2
    }
}

@PART[bluedog_Hexagon_Mk8_Capsule]:NEEDS[Bluedog_DB,FeatureScience]:AFTER[zzzKerbalismDefault]
{
    @MODULE[HardDrive]
    {
        @sampleCapacity = 4
    }
}

// ============================================================================
//	Balance Keyholedata rate to tech level
// ============================================================================

@PART[bluedog_Keyhole_Camera_KH1]:HAS[@MODULE[Experiment]:HAS[#experimentID[bd_mapping]]]:NEEDS[Bluedog_DB,FeatureScience]:AFTER[KerbalismDefault]
{
    @MODULE[Experiment]
    {
		@data_rate *= 0.25
		@sample_amount = 2
	}
}

@PART[bluedog_Keyhole_Camera_KH4]:HAS[@MODULE[Experiment]:HAS[#experimentID[bd_mapping]]]:NEEDS[Bluedog_DB,FeatureScience]:AFTER[KerbalismDefault]
{
    @MODULE[Experiment]
    {
		@data_rate *= 0.75
		@sample_amount = 4
	}
}

@PART[bluedog_Keyhole_Camera_KH4B]:HAS[@MODULE[Experiment]:HAS[#experimentID[bd_mapping]]]:NEEDS[Bluedog_DB,FeatureScience]:AFTER[KerbalismDefault]
{
    @MODULE[Experiment]
    {
		@data_rate *= 1.0
		@sample_amount = 4
	}
}

@PART[bluedog_Keyhole_Camera_KH7]:HAS[@MODULE[Experiment]:HAS[#experimentID[bd_surveillance]]]:NEEDS[Bluedog_DB,FeatureScience]:AFTER[KerbalismDefault]
{
    @MODULE[Experiment]
    {
		@data_rate *= 1.25
		@sample_amount = 6
	}
}

@PART[bluedog_Keyhole_Camera_KH8]:HAS[@MODULE[Experiment]:HAS[#experimentID[bd_surveillance]]]:NEEDS[Bluedog_DB,FeatureScience]:AFTER[KerbalismDefault]
{
    @MODULE[Experiment]
    {
		@data_rate *= 1.45
		@sample_amount = 6
	}
}

@PART[bluedog_Hexagon_Camera]:HAS[@MODULE[Experiment]:HAS[#experimentID[bd_surveillance]]]:NEEDS[Bluedog_DB,FeatureScience]:AFTER[KerbalismDefault]
{
    @MODULE[Experiment]
    {
		@data_rate *= 1.60
		@sample_amount = 16
	}
}

@PART[bluedog_Hexagon_MappingCamera]:HAS[@MODULE[Experiment]:HAS[#experimentID[bd_mapping]]]:NEEDS[Bluedog_DB,FeatureScience]:AFTER[KerbalismDefault]
{
    @MODULE[Experiment]
    {
		@data_rate *= 1.3
		@sample_amount = 8
	}
}

@PART[bluedog_MOL_Camera]:HAS[@MODULE[Experiment]:HAS[#experimentID[bd_surveillance]]]:NEEDS[Bluedog_DB,FeatureScience]:AFTER[KerbalismDefault]
{
    @MODULE[Experiment]
    {
		@data_rate *= 1.25
		@sample_amount = 0
		@sample_collecting = true
	}
}

@PART[bluedog_Nimbus_Instrument_TOMS]:HAS[@MODULE[Experiment]:HAS[#experimentID[bd_weather]]]:NEEDS[Bluedog_DB,FeatureScience]:AFTER[KerbalismDefault]
{
    @MODULE[Experiment]
    {
		@restriction = bluedog_Nimbus_Instrument_ERB
	}
}

@PART[Bluedog_DB/Parts/ProbeExpansion/Nimbus/bluedog_Nimbus_Instrument_SAMS]:HAS[@MODULE[Experiment]:HAS[#experimentID[bd_weather]]]:NEEDS[Bluedog_DB,FeatureScience]:AFTER[KerbalismDefault]
{
    @MODULE[Experiment]
    {
		@restriction = bluedog_Nimbus_Instrument_TOMS,bluedog_Nimbus_Instrument_ERB
	}
}

// ============================================================================
// Radiation emitters
// ============================================================================


@PART[bluedog_RTG_SNAP3]:NEEDS[Bluedog_DB,FeatureRadiation]:FOR[KerbalismDefault]
{
	MODULE
	{
		name = Emitter
		radiation = 0.0000017775
	}
	
  	MODULE:NEEDS[ProfileDefault]
	{
		name = ProcessController
		resource = _RTG
		title = RTG
		capacity = 0.3
		running = true
		toggle = false
	}
	
	!MODULE[ModuleGenerator] {}
	!MODULE[ModuleCoreHeat] {}
}

@PART[bluedog_Transit5_SNAP9A]:NEEDS[Bluedog_DB,FeatureRadiation]:FOR[KerbalismDefault]
{
	MODULE
	{
		name = Emitter
		radiation = 0.0000017775
	}
	
  	MODULE:NEEDS[ProfileDefault]
	{
		name = ProcessController
		resource = _RTG
		title = RTG
		capacity = 0.66
		running = true
		toggle = false
	}
	
	!MODULE[ModuleGenerator] {}
	!MODULE[ModuleCoreHeat] {}
}


@PART[bluedog_RTG_SNAP19]:NEEDS[Bluedog_DB,FeatureRadiation]:FOR[KerbalismDefault]
{
	MODULE
	{
		name = Emitter
		radiation = 0.0000077775
	}
	
  	MODULE:NEEDS[ProfileDefault]
	{
		name = ProcessController
		resource = _RTG
		title = RTG
		capacity = 1.25
		running = true
		toggle = false
	}
	
	!MODULE[ModuleGenerator] {}
	!MODULE[ModuleCoreHeat] {}
}

@PART[bluedog_Transit5_RTG]:NEEDS[Bluedog_DB,FeatureRadiation]:FOR[KerbalismDefault]
{
	MODULE
	{
		name = Emitter
		radiation = 0.0000177775
	}
	
  	MODULE:NEEDS[ProfileDefault]
	{
		name = ProcessController
		resource = _RTG
		title = RTG
		capacity = 1.25
		running = true
		toggle = false
	}
	
	!MODULE[ModuleGenerator] {}
	!MODULE[ModuleCoreHeat] {}
}

@PART[bluedog_RTG_SNAP19_Nimbus]:NEEDS[Bluedog_DB,FeatureRadiation]:FOR[KerbalismDefault]
{
	MODULE
	{
		name = Emitter
		radiation = 0.0000377775
	}
	
  	MODULE:NEEDS[ProfileDefault]
	{
		name = ProcessController
		resource = _RTG
		title = RTG
		capacity = 2.55
		running = true
		toggle = false
	}
	
	!MODULE[ModuleGenerator] {}
	!MODULE[ModuleCoreHeat] {}
}

@PART[bluedog_RTG_SNAP19_Quad]:NEEDS[Bluedog_DB,FeatureRadiation]:FOR[KerbalismDefault]
{
	MODULE
	{
		name = Emitter
		radiation = 0.0000777775
	}
	
  	MODULE:NEEDS[ProfileDefault]
	{
		name = ProcessController
		resource = _RTG
		title = RTG
		capacity = 5.15
		running = true
		toggle = false
	}
	
	!MODULE[ModuleGenerator] {}
	!MODULE[ModuleCoreHeat] {}
}