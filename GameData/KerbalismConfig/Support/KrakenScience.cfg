// =============================================================================
// CardboardBox
// =============================================================================

@EXPERIMENT_DEFINITION:HAS[#id[CardboardBox]]:NEEDS[KrakenScience,KerbalismScience]:FOR[zzzKerbalism]
{
  KERBALISM_EXPERIMENT
  {
    DataSize = 0.45

    MODULE_DEFINITION
    {
      Duration = 2m15s
    }
  }
}

@PART[CardboardBox]:NEEDS[KrakenScience,KerbalismScience]:FOR[Kerbalism]
{
  MODULE
  {
    name = ModuleKsmExperiment
    moduleDefinition = CardboardBox
  }
  !MODULE[ModuleScienceExperiment] {}
}

// =============================================================================
// Microwaves
// =============================================================================

@EXPERIMENT_DEFINITION:HAS[#id[Microwaves]]:NEEDS[KrakenScience,KerbalismScience]:FOR[zzzKerbalism]
{
  KERBALISM_EXPERIMENT
  {
    DataSize = 0.85

    MODULE_DEFINITION
    {
      Duration = 4m
      RequiredEC = 0.1
    }
  }
}

@PART[Microwaves]:NEEDS[KrakenScience,KerbalismScience]:FOR[Kerbalism]
{
  MODULE
  {
    name = ModuleKsmExperiment
    moduleDefinition = Microwaves
  }
  !MODULE[ModuleScienceExperiment] {}
}

// =============================================================================
// SampleBox
// =============================================================================

@EXPERIMENT_DEFINITION:HAS[#id[SampleBox]]:NEEDS[KrakenScience,KerbalismScience]:FOR[zzzKerbalism]
{
  KERBALISM_EXPERIMENT
  {
    DataSize = 0.55

    MODULE_DEFINITION
    {
      Duration = 7m10s
    }
  }
}

@PART[SampleBox]:NEEDS[KrakenScience,KerbalismScience]:FOR[Kerbalism]
{
  MODULE
  {
    name = ModuleKsmExperiment
    moduleDefinition = SampleBox
  }
  !MODULE[ModuleScienceExperiment] {}
}

// =============================================================================
// BloodSample
// =============================================================================

@KERBALISM_SCIENCE_VALUES:NEEDS[KrakenScience,KerbalismScience]
{
    %KrakenScience
    {
        BloodSample
        {
            size = 128
            duration = 3600
        }
    }
}

@EXPERIMENT_DEFINITION:HAS[#id[BloodSample]]:NEEDS[KrakenScience,KerbalismScience]:FOR[zzzKerbalism]
{
  KERBALISM_EXPERIMENT
  {
    DataSize = 128

    MODULE_DEFINITION
    {
      Duration = 1h
    }
  }
}

@PART[BloodSample]:NEEDS[KrakenScience,KerbalismScience]:FOR[Kerbalism]
{
  MODULE
  {
    name = ModuleKsmExperiment
    moduleDefinition = BloodSample
  }
  !MODULE[ModuleScienceExperiment] {}
}

// =============================================================================
// EyeSample
// =============================================================================

@EXPERIMENT_DEFINITION:HAS[#id[EyeSample]]:NEEDS[KrakenScience,KerbalismScience]:FOR[zzzKerbalism]
{
  KERBALISM_EXPERIMENT
  {
    DataSize = 128

    MODULE_DEFINITION
    {
      Duration = 1h
    }
  }
}

@PART[EyeSample]:NEEDS[KrakenScience,KerbalismScience]:FOR[Kerbalism]
{
  MODULE
  {
    name = ModuleKsmExperiment
    moduleDefinition = EyeSample
  }
  !MODULE[ModuleScienceExperiment] {}
}

// =============================================================================
// SkinSample
// =============================================================================

@EXPERIMENT_DEFINITION:HAS[#id[SkinSample]]:NEEDS[KrakenScience,KerbalismScience]:FOR[zzzKerbalism]
{
  KERBALISM_EXPERIMENT
  {
    DataSize = 256

    MODULE_DEFINITION
    {
      Duration = 1h
    }
  }
}

@PART[SkinSample]:NEEDS[KrakenScience,KerbalismScience]:FOR[Kerbalism]
{
  MODULE
  {
    name = ModuleKsmExperiment
    moduleDefinition = SkinSample
  }
  !MODULE[ModuleScienceExperiment] {}
}

// =============================================================================
// TentacleSample
// =============================================================================

@EXPERIMENT_DEFINITION:HAS[#id[TentacleSample]]:NEEDS[KrakenScience,KerbalismScience]:FOR[zzzKerbalism]
{
  KERBALISM_EXPERIMENT
  {
    DataSize = 256

    MODULE_DEFINITION
    {
      Duration = 1h
    }
  }
}

@PART[TentacleSample]:NEEDS[KrakenScience,KerbalismScience]:FOR[Kerbalism]
{
  MODULE
  {
    name = ModuleKsmExperiment
    moduleDefinition = TentacleSample
  }
  !MODULE[ModuleScienceExperiment] {}
}

// =============================================================================
// ScienceRackBio
// =============================================================================

@EXPERIMENT_DEFINITION:HAS[#id[ScienceRackBio]]:NEEDS[KrakenScience,KerbalismScience]:FOR[zzzKerbalism]
{
  KERBALISM_EXPERIMENT
  {
    DataSize = 512

    MODULE_DEFINITION
    {
      Duration = 1h30m
      RequiredEC = 0.6
    }
  }
}

@PART[ScienceRackBio]:NEEDS[KrakenScience,KerbalismScience]:FOR[Kerbalism]
{
  MODULE
  {
    name = ModuleKsmExperiment
    moduleDefinition = ScienceRackBio
  }
  !MODULE[ModuleScienceExperiment] {}
}

// =============================================================================
// ScienceRackExp
// =============================================================================

@EXPERIMENT_DEFINITION:HAS[#id[ScienceRackExp]]:NEEDS[KrakenScience,KerbalismScience]:FOR[zzzKerbalism]
{
  KERBALISM_EXPERIMENT
  {
    DataSize = 512

    MODULE_DEFINITION
    {
      Duration = 1h30m
      RequiredEC = 0.8
    }
  }
}

@PART[ScienceRackExp]:NEEDS[KrakenScience,KerbalismScience]:FOR[Kerbalism]
{
    MODULE
    {
      name = ModuleKsmExperiment
      moduleDefinition = ScienceRackExp
    }
    !MODULE[ModuleScienceExperiment] {}
}

// =============================================================================
// Incubator
// =============================================================================

@EXPERIMENT_DEFINITION:HAS[#id[Incubator]]:NEEDS[KrakenScience,KerbalismScience]:FOR[zzzKerbalism]
{
  KERBALISM_EXPERIMENT
  {
    DataSize = 1024

    MODULE_DEFINITION
    {
      Duration = 4h
      RequiredEC = 2
    }
  }
}

@PART[Incubator]:NEEDS[KrakenScience,KerbalismScience]:FOR[Kerbalism]
{
  MODULE
  {
    name = ModuleKsmExperiment
    moduleDefinition = Incubator
  }
  !MODULE[ModuleScienceExperiment] {}
}

// =============================================================================
// KrakenSpecimen1
// =============================================================================

@EXPERIMENT_DEFINITION:HAS[#id[KrakenSpecimen1]]:NEEDS[KrakenScience,KerbalismScience]:FOR[zzzKerbalism]
{
  KERBALISM_EXPERIMENT
  {
    DataSize = 5120

    MODULE_DEFINITION
    {
      Duration = 2h
      RequiredEC = 2
    }
  }
}

@PART[KrakenSpecimen1]:NEEDS[KrakenScience,KerbalismScience]:FOR[Kerbalism]
{
    MODULE
    {
      name = ModuleKsmExperiment
      moduleDefinition = KrakenSpecimen1
    }
    !MODULE[ModuleScienceExperiment] {}
}

// =============================================================================
// KrakenSpecimen2
// =============================================================================

@EXPERIMENT_DEFINITION:HAS[#id[KrakenSpecimen2]]:NEEDS[KrakenScience,KerbalismScience]:FOR[zzzKerbalism]
{
  KERBALISM_EXPERIMENT
  {
    DataSize = 5120

    MODULE_DEFINITION
    {
      Duration = 2h
      RequiredEC = 2
    }
  }
}

@PART[KrakenSpecimen2]:NEEDS[KrakenScience,KerbalismScience]:FOR[Kerbalism]
{
    MODULE
    {
      name = ModuleKsmExperiment
      moduleDefinition = KrakenSpecimen2
      ec_rate= 2
    }
    !MODULE[ModuleScienceExperiment] {}
}

// =============================================================================
// KrakenSpecimen3
// =============================================================================

@EXPERIMENT_DEFINITION:HAS[#id[KrakenSpecimen3]]:NEEDS[KrakenScience,KerbalismScience]:FOR[zzzKerbalism]
{
  KERBALISM_EXPERIMENT
  {
    DataSize = 5120

    MODULE_DEFINITION
    {
      Duration = 2h
      RequiredEC = 2
    }
  }
}

// Finally, patch your part
@PART[KrakenSpecimen3]:NEEDS[KrakenScience,KerbalismScience]:FOR[Kerbalism]
{
    MODULE
    {
      name = ModuleKsmExperiment
      moduleDefinition = KrakenSpecimen3
    }
    !MODULE[ModuleScienceExperiment] {}
}

// =============================================================================
// KrakenScanner
// =============================================================================

@EXPERIMENT_DEFINITION:HAS[#id[KrakenScanner]]:NEEDS[KrakenScience,KerbalismScience]:FOR[zzzKerbalism]
{
  KERBALISM_EXPERIMENT
  {
    DataSize = 524288

    MODULE_DEFINITION
    {
      Duration = 14d
      RequiredEC = 4
    }
  }
}

@PART[KrakenScanner]:NEEDS[KrakenScience,KerbalismScience]:FOR[Kerbalism]
{
    MODULE
    {
      name = ModuleKsmExperiment
      moduleDefinition = KrakenScanner
    }
    !MODULE[ModuleScienceExperiment] {}
}
