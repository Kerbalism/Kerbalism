@PART[*]:HAS[@MODULE[ModuleGenerator]:HAS[@OUTPUT_RESOURCE[ElectricCharge]],@MODULE[ModuleRestockLaunchClamp]]:NEEDS[ReStock,ProfileDefault]:FOR[KerbalismDefault]
{
	MODULE
	{
		name = ProcessController
		resource = _ECGen
		title = #KERBALISM_PowerSupply_title//Power supply
		capacity = #$/MODULE[ModuleGenerator]:HAS[@OUTPUT_RESOURCE[ElectricCharge]]/OUTPUT_RESOURCE[ElectricCharge]/rate$
		running = true
		toggle = true
	}

	!MODULE[ModuleGenerator]:HAS[@OUTPUT_RESOURCE[ElectricCharge]] {}
}

@PART[*]:HAS[@MODULE[ProcessController]:HAS[#resource[?ECGen]],@MODULE[ModuleRestockLaunchClamp]]:NEEDS[ReStock]:AFTER[KerbalismDefault]
{
	// not working yet
	// MODULE
	// {
		// name = PlannerController
		// title = generator
		// considered = false
	// }
}
