//==============================================================================
// Add experiments to probe cores
//==============================================================================

@PART[*]:HAS[@MODULE[ModuleCommand]:HAS[#minimumCrew[0]]]:FOR[Kerbalism]:NEEDS[KerbalismScience]
{
  MODULE
  {
    name = ModuleKsmExperiment
    moduleIdentifier = kerbalismProbeScience
  }

  MODULE
  {
    name = ModuleB9PartSwitch
    switcherDescription = #autoLoc_6003059 // Science Experiment
    moduleID = probeCoreExperiment
    affectDragCubes = false
    affectFARVoxels = false

    SUBTYPE
		{
			name = empty
			title = #kerbalism-part-empty
      primaryColor = KSPNeutralUIGrey

      MODULE
      {
        moduleActive = false
        IDENTIFIER 
        {
          name = ModuleKsmExperiment
          moduleIdentifier = kerbalismProbeScience
        }
      }
		}

    SUBTYPE
		{
			name = kerbalism_TELEMETRY
			title = #kerbalism-experiment-telemetry-title
      primaryColor = CoolBlue
      addedCost = 100
      addedMass = 0.001

      MODULE
      {
        IDENTIFIER 
        {
          name = ModuleKsmExperiment
          moduleIdentifier = kerbalismProbeScience
        }
        DATA 
        {
          moduleDefinition = #$../../name$
        }
      }
		}

    SUBTYPE
		{
			name = kerbalism_LITE
			title = #kerbalism-experiment-lite-title
      primaryColor = Cream
      addedCost = 150
      addedMass = 0.004

      MODULE
      {
        IDENTIFIER 
        {
          name = ModuleKsmExperiment
          moduleIdentifier = kerbalismProbeScience
        }
        DATA 
        {
          moduleDefinition = #$../../name$
        }
      }
		}

    SUBTYPE
    {
      name = kerbalism_MITE
      title = #kerbalism-experiment-mite-title
      primaryColor = DarkMint
      addedCost = 575
      addedMass = 0.025

      MODULE
      {
        IDENTIFIER 
        {
          name = ModuleKsmExperiment
          moduleIdentifier = kerbalismProbeScience
        }
        DATA 
        {
          moduleDefinition = #$../../name$
        }
      }
    }

    SUBTYPE
    {
      name = kerbalism_SITE
      title = #kerbalism-experiment-site-title
      primaryColor = BabyShitGreen
      addedCost = 1300
      addedMass = 0.68

      MODULE
      {
        IDENTIFIER 
        {
          name = ModuleKsmExperiment
          moduleIdentifier = kerbalismProbeScience
        }
        DATA 
        {
          moduleDefinition = #$../../name$
        }
      }
    }
  }
}
